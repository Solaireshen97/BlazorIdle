/* 装备面板组件样式 */

/* 装备槽悬停效果 */
.equipment-slot {
    transition: all 0.2s ease-in-out;
}

.equipment-slot:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15) !important;
}

/* 装备槽按下效果 */
.equipment-slot:active {
    transform: translateY(0);
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1) !important;
}

/* 有装备的槽位脉冲效果（可选，仅在hover时） */
.equipment-slot[style*="opacity: 1.0"]:hover {
    animation: gentle-pulse 1.5s ease-in-out infinite;
}

@keyframes gentle-pulse {
    0%, 100% {
        transform: translateY(-2px) scale(1);
    }
    50% {
        transform: translateY(-2px) scale(1.02);
    }
}

/* 装备品质标签动画 */
.equipment-slot > div[style*="position: absolute"][style*="top: 2px"][style*="right: 2px"] {
    animation: fade-in 0.3s ease-in;
}

@keyframes fade-in {
    from {
        opacity: 0;
        transform: scale(0.8);
    }
    to {
        opacity: 1;
        transform: scale(1);
    }
}

/* 限制图标闪烁提示 */
.equipment-slot > div[style*="position: absolute"][style*="top: 2px"][style*="left: 2px"] {
    animation: attention-blink 2s ease-in-out infinite;
}

@keyframes attention-blink {
    0%, 100% {
        opacity: 1;
    }
    50% {
        opacity: 0.6;
    }
}

/* 总属性面板平滑渐变 */
.equipment-stats {
    animation: slide-up 0.4s ease-out;
}

@keyframes slide-up {
    from {
        opacity: 0;
        transform: translateY(10px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

/* 属性值高亮效果 */
.equipment-stats span[style*="font-weight: bold"] {
    transition: color 0.2s ease;
}

/* 装备槽位网格动画 */
.equipment-slots {
    animation: fade-in-grid 0.5s ease-out;
}

@keyframes fade-in-grid {
    from {
        opacity: 0;
        transform: scale(0.95);
    }
    to {
        opacity: 1;
        transform: scale(1);
    }
}

/* 无法装备的装备槽特殊效果 */
.equipment-slot[style*="border: 2px solid #f44336"] {
    animation: warning-shake 0.5s ease-in-out;
}

@keyframes warning-shake {
    0%, 100% {
        transform: translateX(0);
    }
    25% {
        transform: translateX(-3px);
    }
    75% {
        transform: translateX(3px);
    }
}

/* 加载状态动画 */
.equipment-panel em {
    animation: loading-dots 1.5s steps(4, end) infinite;
}

@keyframes loading-dots {
    0%, 20% {
        content: "加载中";
    }
    40% {
        content: "加载中.";
    }
    60% {
        content: "加载中..";
    }
    80%, 100% {
        content: "加载中...";
    }
}

/* DPS和武器信息区域渐入 */
.equipment-stats > div[style*="margin-top: 8px"] {
    animation: info-appear 0.4s ease-out 0.2s both;
}

@keyframes info-appear {
    from {
        opacity: 0;
        max-height: 0;
        padding: 0;
    }
    to {
        opacity: 1;
        max-height: 100px;
        padding: inherit;
    }
}

/* 响应式优化 */
@media (max-width: 768px) {
    .equipment-slots {
        gap: 4px;
        grid-template-columns: 1fr 1fr 1fr;
    }
    
    .equipment-slot {
        min-height: 50px;
        padding: 6px;
    }
    
    .equipment-slot > div:first-child {
        font-size: 20px !important;
    }
    
    .equipment-slot > div:nth-child(2) {
        font-size: 8px !important;
    }
}

/* 打印样式优化 */
@media print {
    .equipment-slot:hover {
        transform: none;
        box-shadow: none !important;
    }
    
    .equipment-slots {
        animation: none;
    }
    
    .equipment-stats {
        animation: none;
    }
}

/* 状态消息动画 */
@keyframes slide-down {
    from {
        opacity: 0;
        transform: translateY(-10px);
        max-height: 0;
    }
    to {
        opacity: 1;
        transform: translateY(0);
        max-height: 100px;
    }
}

@keyframes shake {
    0%, 100% {
        transform: translateX(0);
    }
    10%, 30%, 50%, 70%, 90% {
        transform: translateX(-5px);
    }
    20%, 40%, 60%, 80% {
        transform: translateX(5px);
    }
}

/* 减少动画效果（用户偏好设置） */
@media (prefers-reduced-motion: reduce) {
    .equipment-slot,
    .equipment-slots,
    .equipment-stats,
    .equipment-stats > div,
    .equipment-slot > div {
        animation: none !important;
        transition: none !important;
    }
    
    .equipment-slot:hover {
        transform: none;
    }
}
