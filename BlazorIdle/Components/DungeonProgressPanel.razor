@* åœ°ä¸‹åŸè¿›åº¦é¢æ¿ç»„ä»¶ *@
<div class="dungeon-progress-panel">
    <h6>ğŸ° åœ°ä¸‹åŸè¿›åº¦</h6>
    
    @if (!string.IsNullOrEmpty(DungeonName))
    {
        <div style="font-size: 13px; margin-bottom: 8px; color: #555;">
            <b>@DungeonName</b>
        </div>
    }
    
    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 12px; margin-bottom: 12px;">
        <!-- è¿›åº¦ä¿¡æ¯ -->
        @if (WaveIndex.HasValue || RunCount.HasValue)
        {
            <div style="padding: 8px; background: #e3f2fd; border-radius: 4px; border-left: 3px solid #2196f3;">
                <div style="font-size: 11px; color: #666; margin-bottom: 2px;">è¿›åº¦</div>
                <div style="font-size: 13px; font-weight: bold;">
                    @if (WaveIndex.HasValue && TotalWaves.HasValue)
                    {
                        <span>Wave @WaveIndex/@TotalWaves</span>
                    }
                    @if (RunCount.HasValue)
                    {
                        <span style="margin-left: 8px;">Run @RunCount</span>
                    }
                    @if (IsBossWave)
                    {
                        <span style="color: #ff5722; margin-left: 4px;">ğŸ¯ Boss</span>
                    }
                </div>
            </div>
        }
        
        <!-- å‡»æ€ç»Ÿè®¡ -->
        @if (TotalKills.HasValue || EnemyCount > 0)
        {
            <div style="padding: 8px; background: #fff3e0; border-radius: 4px; border-left: 3px solid #ff9800;">
                <div style="font-size: 11px; color: #666; margin-bottom: 2px;">å‡»æ€</div>
                <div style="font-size: 13px; font-weight: bold;">
                    @if (TotalKills.HasValue)
                    {
                        <span>@TotalKills æ€ªç‰©</span>
                    }
                    else if (EnemyCount > 0)
                    {
                        <span>å½“å‰ @EnemyCount æ•Œäºº</span>
                    }
                    else
                    {
                        <span>-</span>
                    }
                </div>
            </div>
        }
    </div>
    
    <!-- æ”¶ç›Šç»Ÿè®¡ -->
    <div style="padding: 8px; background: #f1f8e9; border-radius: 4px; border-left: 3px solid #8bc34a;">
        <div style="font-size: 11px; color: #666; margin-bottom: 4px;">ç´¯è®¡æ”¶ç›Š</div>
        <div style="display: flex; gap: 16px; font-size: 13px;">
            <div>
                <span style="color: #f57f17;">ğŸ’°</span>
                <b>@Gold.ToString("N0")</b> é‡‘å¸
            </div>
            <div>
                <span style="color: #1976d2;">â­</span>
                <b>@Exp.ToString("N0")</b> ç»éªŒ
            </div>
        </div>
    </div>
</div>

@code {
    /// <summary>åœ°ä¸‹åŸåç§°</summary>
    [Parameter] public string? DungeonName { get; set; }
    
    /// <summary>å½“å‰æ³¢æ¬¡</summary>
    [Parameter] public int? WaveIndex { get; set; }
    
    /// <summary>æ€»æ³¢æ¬¡æ•°</summary>
    [Parameter] public int? TotalWaves { get; set; }
    
    /// <summary>è½®æ¬¡è®¡æ•°</summary>
    [Parameter] public int? RunCount { get; set; }
    
    /// <summary>æ˜¯å¦ä¸ºBossæ³¢æ¬¡</summary>
    [Parameter] public bool IsBossWave { get; set; }
    
    /// <summary>æ€»å‡»æ€æ•°</summary>
    [Parameter] public int? TotalKills { get; set; }
    
    /// <summary>å½“å‰æ•Œäººæ•°é‡</summary>
    [Parameter] public int EnemyCount { get; set; }
    
    /// <summary>ç´¯è®¡é‡‘å¸</summary>
    [Parameter] public long Gold { get; set; }
    
    /// <summary>ç´¯è®¡ç»éªŒ</summary>
    [Parameter] public long Exp { get; set; }
}
