# BlazorIdle æ•°æ®åº“è¯»å–ä¼˜åŒ–å®æ–½æ–¹æ¡ˆ - ä¸Šç¯‡

**é¡¹ç›®åç§°**: BlazorIdle æ•°æ®åº“è¯»å–æ“ä½œä¼˜åŒ–  
**æ–‡æ¡£ç±»å‹**: éœ€æ±‚åˆ†æä¸æ¶æ„è®¾è®¡  
**æ–‡æ¡£ç‰ˆæœ¬**: 1.0  
**åˆ›å»ºæ—¥æœŸ**: 2025-10-18  
**çŠ¶æ€**: æ–¹æ¡ˆè®¾è®¡ - å¾…å®¡æ ¸

---

## ğŸ“‹ ç›®å½•

1. [æ‰§è¡Œæ‘˜è¦](#æ‰§è¡Œæ‘˜è¦)
2. [é¡¹ç›®èƒŒæ™¯](#é¡¹ç›®èƒŒæ™¯)
3. [ç°çŠ¶åˆ†æ](#ç°çŠ¶åˆ†æ)
4. [é—®é¢˜è¯†åˆ«](#é—®é¢˜è¯†åˆ«)
5. [ä¼˜åŒ–ç›®æ ‡](#ä¼˜åŒ–ç›®æ ‡)
6. [æ¶æ„è®¾è®¡](#æ¶æ„è®¾è®¡)
7. [æŠ€æœ¯é€‰å‹](#æŠ€æœ¯é€‰å‹)
8. [é…ç½®è®¾è®¡](#é…ç½®è®¾è®¡)

---

## æ‰§è¡Œæ‘˜è¦

### èƒŒæ™¯

BlazorIdle é¡¹ç›®å·²å®Œæˆæ•°æ®åº“å†™å…¥æ“ä½œçš„ä¼˜åŒ–ï¼ˆPhase 1-2ï¼‰ï¼Œé€šè¿‡å†…å­˜ç¼“å†²å’Œæ‰¹é‡ä¿å­˜æœºåˆ¶ï¼ŒæˆåŠŸå°†æ•°æ®åº“å†™å…¥æ¬¡æ•°å‡å°‘äº† **97.9%**ã€‚ç„¶è€Œï¼Œå½“å‰ç³»ç»Ÿä»å­˜åœ¨å¤§é‡çš„æ•°æ®åº“è¯»å–æ“ä½œï¼š

- **è§’è‰²ä¿¡æ¯æŸ¥è¯¢**ï¼šæ¯æ¬¡ API è¯·æ±‚éƒ½ä»æ•°æ®åº“è¯»å–
- **æˆ˜æ–—æ•°æ®æŸ¥è¯¢**ï¼šå®æ—¶æŸ¥è¯¢æˆ˜æ–—çŠ¶æ€å’Œå¿«ç…§
- **æ´»åŠ¨è®¡åˆ’æŸ¥è¯¢**ï¼šé¢‘ç¹è¯»å–æ´»åŠ¨çŠ¶æ€
- **è£…å¤‡å’ŒèƒŒåŒ…æŸ¥è¯¢**ï¼šæ¯æ¬¡æ“ä½œéƒ½è¯»å–å®Œæ•´æ•°æ®
- **é…ç½®æ•°æ®æŸ¥è¯¢**ï¼šæŠ€èƒ½ã€ç‰©å“ç­‰é™æ€æ•°æ®é‡å¤æŸ¥è¯¢

### æ ¸å¿ƒé—®é¢˜

1. **è¯»å–é¢‘ç‡è¿‡é«˜**ï¼šæ¯ç§’æ•°ç™¾æ¬¡æ•°æ®åº“æŸ¥è¯¢
2. **æ•°æ®é‡å¤è¯»å–**ï¼šç›¸åŒæ•°æ®åœ¨çŸ­æ—¶é—´å†…å¤šæ¬¡ä»æ•°æ®åº“è¯»å–
3. **ç¼ºå°‘ç¼“å­˜ç­–ç•¥**ï¼šæ²¡æœ‰å†…å­˜ç¼“å­˜å±‚ï¼Œæ‰€æœ‰è¯»å–ç›´è¾¾æ•°æ®åº“
4. **æ€§èƒ½ç“¶é¢ˆ**ï¼šæ•°æ®åº“è¯»å–æˆä¸ºç³»ç»Ÿå“åº”æ—¶é—´çš„ä¸»è¦ç“¶é¢ˆ
5. **èµ„æºæµªè´¹**ï¼šCPU å’Œç£ç›˜ I/O èµ„æºç”¨äºé‡å¤è¯»å–

### ä¼˜åŒ–ç›®æ ‡

**æ ¸å¿ƒç›®æ ‡**ï¼šå»ºç«‹ç»Ÿä¸€çš„å†…å­˜ç¼“å­˜å±‚ï¼Œä¼˜å…ˆä»å†…å­˜è¯»å–æ•°æ®ï¼Œå‡å°‘æ•°æ®åº“æŸ¥è¯¢æ¬¡æ•°

**é‡åŒ–æŒ‡æ ‡**ï¼š
- æ•°æ®åº“è¯»å–æ¬¡æ•°å‡å°‘ **70-90%**
- API å“åº”æ—¶é—´æ”¹å–„ **30-50%**
- ç¼“å­˜å‘½ä¸­ç‡è¾¾åˆ° **80%+**
- å†…å­˜å¢é•¿æ§åˆ¶åœ¨ **150-300MB** ä»¥å†…

**è®¾è®¡åŸåˆ™**ï¼š
1. âœ… **å®Œå…¨é…ç½®åŒ–**ï¼šæ‰€æœ‰å‚æ•°é€šè¿‡é…ç½®æ–‡ä»¶ç®¡ç†
2. âœ… **å‘åå…¼å®¹**ï¼šå¯é€šè¿‡å¼€å…³ç¦ç”¨ç¼“å­˜
3. âœ… **æ•°æ®ä¸€è‡´æ€§**ï¼šç¡®ä¿ç¼“å­˜ä¸æ•°æ®åº“åŒæ­¥
4. âœ… **æ¸è¿›å¼è¿ç§»**ï¼šåˆ†é˜¶æ®µå®æ–½ï¼Œé™ä½é£é™©
5. âœ… **ç»´æŒä»£ç é£æ ¼**ï¼šéµå¾ªé¡¹ç›®æ—¢æœ‰è§„èŒƒ

---

## é¡¹ç›®èƒŒæ™¯

### å·²å®Œæˆçš„å·¥ä½œ

#### Phase 1-2: å†™å…¥ä¼˜åŒ– âœ…

**æˆæœ**ï¼š
- å®ç°äº† `MemoryStateManager<T>` ç®¡ç†å®ä½“å†…å­˜å‰¯æœ¬
- å®ç°äº† `PersistenceCoordinator` å®šæœŸæ‰¹é‡ä¿å­˜
- å®ç°äº† `EnhancedShutdownManager` ä¼˜é›…å…³é—­
- æ•°æ®åº“å†™å…¥æ¬¡æ•°ä» 93,000æ¬¡/å°æ—¶ é™è‡³ 1,920æ¬¡/å°æ—¶
- å‡å°‘æ¯”ä¾‹ï¼š**97.9%**

**æ¶æ„**ï¼š
```
API Controller
    â†“
Service Layer
    â†“
MemoryStateManager (å†™å…¥æ—¶æ›´æ–°å†…å­˜)
    â†“ (å®šæœŸæ‰¹é‡)
PersistenceCoordinator â†’ Database
```

**è¦†ç›–èŒƒå›´**ï¼š
- âœ… Character å¿ƒè·³æ›´æ–°
- âœ… RunningBattleSnapshot å¿«ç…§ä¿å­˜
- âœ… ActivityPlan æ´»åŠ¨è®¡åˆ’æ›´æ–°

### å½“å‰çš„ä¸è¶³

#### è¯»å–æ“ä½œæœªä¼˜åŒ– âš ï¸

**é—®é¢˜ç°çŠ¶**ï¼š
```csharp
// ç°æœ‰ä»£ç æ¨¡å¼ï¼ˆæ¯æ¬¡éƒ½æŸ¥æ•°æ®åº“ï¼‰
public async Task<Character?> GetCharacterAsync(Guid id)
{
    return await _db.Characters
        .Include(c => c.Equipment)
        .Include(c => c.Inventory)
        .FirstOrDefaultAsync(c => c.Id == id);
}
```

**å½±å“**ï¼š
- æ¯æ¬¡ API è°ƒç”¨éƒ½æ‰§è¡Œæ•°æ®åº“æŸ¥è¯¢
- ç›¸åŒè§’è‰²ä¿¡æ¯åœ¨çŸ­æ—¶é—´å†…å¤šæ¬¡è¯»å–
- EF Core Include å¯¼è‡´é¢å¤–çš„ JOIN æŸ¥è¯¢
- æ•°æ®åº“è¿æ¥æ± å‹åŠ›å¢å¤§

#### ç¼ºå°‘ç»Ÿä¸€çš„ç¼“å­˜ç­–ç•¥

**å½“å‰çŠ¶å†µ**ï¼š
1. æ²¡æœ‰è¯»å–ç¼“å­˜å±‚
2. æ²¡æœ‰ç¼“å­˜å¤±æ•ˆç­–ç•¥
3. æ²¡æœ‰ç¼“å­˜é¢„çƒ­æœºåˆ¶
4. æ²¡æœ‰ç¼“å­˜å‘½ä¸­ç‡ç›‘æ§

#### æ•°æ®ä¸€è‡´æ€§æŒ‘æˆ˜

**ç°æœ‰å†™å…¥ä¼˜åŒ–çš„å‰¯ä½œç”¨**ï¼š
- æ•°æ®å·²åœ¨ `MemoryStateManager` ä¸­æ›´æ–°
- ä½†è¯»å–æ“ä½œä»ä»æ•°æ®åº“æŸ¥è¯¢
- å¯èƒ½è¯»åˆ°"æ—§æ•°æ®"ï¼ˆå°šæœªæ‰¹é‡ä¿å­˜ï¼‰

**ç¤ºä¾‹åœºæ™¯**ï¼š
```
T0: ç©å®¶å¿ƒè·³æ›´æ–° LastSeenAtUtc (å†™å…¥å†…å­˜ï¼Œæ ‡è®°dirty)
T1: API æŸ¥è¯¢ç©å®¶çŠ¶æ€ (ä»æ•°æ®åº“è¯»å–ï¼Œä»æ˜¯æ—§æ—¶é—´)
T30: PersistenceCoordinator æ‰¹é‡ä¿å­˜ (æ›´æ–°æ•°æ®åº“)
```

---

## ç°çŠ¶åˆ†æ

### è¯»å–æ“ä½œç»Ÿè®¡

é€šè¿‡ä»£ç å®¡æŸ¥å’Œæ—¥å¿—åˆ†æï¼Œè¯†åˆ«å‡ºä»¥ä¸‹é«˜é¢‘è¯»å–æ“ä½œï¼š

#### 1. è§’è‰²ä¿¡æ¯æŸ¥è¯¢ âš ï¸âš ï¸âš ï¸

**ä½ç½®**ï¼š`Infrastructure/Persistence/Repositories/CharacterRepository.cs`

**é¢‘ç‡åˆ†æ**ï¼š
| æ“ä½œ | è§¦å‘åœºæ™¯ | é¢‘ç‡ä¼°ç®— |
|------|---------|---------|
| `GetByIdAsync` | æ¯æ¬¡ API è¯·æ±‚ | ~500-1000 æ¬¡/åˆ†é’Ÿ |
| `GetByAccountIdAsync` | ç™»å½•ã€åˆ‡æ¢è§’è‰² | ~50-100 æ¬¡/åˆ†é’Ÿ |
| `GetAllOnlineAsync` | ç¦»çº¿æ£€æµ‹ã€ç»Ÿè®¡ | ~2 æ¬¡/åˆ†é’Ÿ |

**ä»£ç æ¨¡å¼**ï¼š
```csharp
public async Task<Character?> GetByIdAsync(Guid id, CancellationToken ct = default)
{
    return await _db.Characters
        .Include(c => c.Equipment)      // JOIN Equipment è¡¨
        .Include(c => c.Inventory)      // JOIN Inventory è¡¨
        .Include(c => c.ActiveBattles)  // JOIN Battles è¡¨
        .FirstOrDefaultAsync(c => c.Id == id, ct);
}
```

**æ€§èƒ½å½±å“**ï¼š
- æ¯æ¬¡æŸ¥è¯¢æ‰§è¡Œ 3-4 ä¸ª JOIN
- åŠ è½½å¤§é‡ä¸å¿…è¦çš„å…³è”æ•°æ®
- æ•°æ®åº“ CPU å’Œ I/O å‹åŠ›é«˜

#### 2. æˆ˜æ–—æ•°æ®æŸ¥è¯¢ âš ï¸âš ï¸âš ï¸

**ä½ç½®**ï¼š`Infrastructure/Persistence/Repositories/BattleRepository.cs`

**é¢‘ç‡åˆ†æ**ï¼š
| æ“ä½œ | è§¦å‘åœºæ™¯ | é¢‘ç‡ä¼°ç®— |
|------|---------|---------|
| `GetRunningBattlesAsync` | æˆ˜æ–—å¾ªç¯ | ~100-200 æ¬¡/åˆ†é’Ÿ |
| `GetBattleSnapshotAsync` | å‰ç«¯è½®è¯¢ | ~200-400 æ¬¡/åˆ†é’Ÿ |
| `GetBattleHistoryAsync` | æŸ¥çœ‹å†å² | ~10-20 æ¬¡/åˆ†é’Ÿ |

**ä»£ç æ¨¡å¼**ï¼š
```csharp
public async Task<IEnumerable<RunningBattleSnapshotRecord>> GetSnapshotsAsync(
    Guid characterId, CancellationToken ct = default)
{
    return await _db.RunningBattleSnapshots
        .Where(s => s.CharacterId == characterId && s.IsActive)
        .OrderByDescending(s => s.CreatedAtUtc)
        .ToListAsync(ct);
}
```

**æ€§èƒ½å½±å“**ï¼š
- æ¯ä¸ªæ´»è·ƒæˆ˜æ–—æ¯ç§’æŸ¥è¯¢ 1-2 æ¬¡
- 10 ä¸ªå¹¶å‘æˆ˜æ–— = 600-1200 æ¬¡/åˆ†é’Ÿ
- å¿«ç…§æ•°æ®è¾ƒå¤§ï¼ˆJSON åºåˆ—åŒ–ï¼‰

#### 3. æ´»åŠ¨è®¡åˆ’æŸ¥è¯¢ âš ï¸âš ï¸

**ä½ç½®**ï¼š`Infrastructure/Persistence/Repositories/ActivityPlanRepository.cs`

**é¢‘ç‡åˆ†æ**ï¼š
| æ“ä½œ | è§¦å‘åœºæ™¯ | é¢‘ç‡ä¼°ç®— |
|------|---------|---------|
| `GetActiveByCharacterAsync` | æ´»åŠ¨çŠ¶æ€æ£€æŸ¥ | ~100-200 æ¬¡/åˆ†é’Ÿ |
| `GetPendingAsync` | æ´»åŠ¨è°ƒåº¦ | ~50-100 æ¬¡/åˆ†é’Ÿ |

**ä»£ç æ¨¡å¼**ï¼š
```csharp
public async Task<IEnumerable<ActivityPlan>> GetActiveByCharacterAsync(
    Guid characterId, CancellationToken ct = default)
{
    return await _db.ActivityPlans
        .Where(p => p.CharacterId == characterId && p.State == ActivityState.Running)
        .ToListAsync(ct);
}
```

#### 4. è£…å¤‡å’ŒèƒŒåŒ…æŸ¥è¯¢ âš ï¸

**ä½ç½®**ï¼š`Infrastructure/Persistence/Repositories/InventoryRepository.cs`

**é¢‘ç‡åˆ†æ**ï¼š
| æ“ä½œ | è§¦å‘åœºæ™¯ | é¢‘ç‡ä¼°ç®— |
|------|---------|---------|
| `GetCharacterInventoryAsync` | èƒŒåŒ…æ“ä½œ | ~50-100 æ¬¡/åˆ†é’Ÿ |
| `GetEquippedItemsAsync` | è£…å¤‡æŸ¥è¯¢ | ~30-50 æ¬¡/åˆ†é’Ÿ |

#### 5. é…ç½®æ•°æ®æŸ¥è¯¢ âš ï¸âš ï¸

**ä½ç½®**ï¼šå¤šä¸ªæœåŠ¡å±‚

**é¢‘ç‡åˆ†æ**ï¼š
| æ•°æ®ç±»å‹ | è§¦å‘åœºæ™¯ | é¢‘ç‡ä¼°ç®— |
|---------|---------|---------|
| æŠ€èƒ½å®šä¹‰ | æˆ˜æ–—è®¡ç®— | ~200-300 æ¬¡/åˆ†é’Ÿ |
| ç‰©å“å®šä¹‰ | ç‰©å“æ“ä½œ | ~50-100 æ¬¡/åˆ†é’Ÿ |
| æ€ªç‰©æ¨¡æ¿ | æˆ˜æ–—åˆå§‹åŒ– | ~10-20 æ¬¡/åˆ†é’Ÿ |

**ä»£ç æ¨¡å¼**ï¼š
```csharp
// æ¯æ¬¡æˆ˜æ–—éƒ½æŸ¥è¯¢æŠ€èƒ½å®šä¹‰
var skill = await _db.Skills.FindAsync(skillId);
```

**æ€§èƒ½å½±å“**ï¼š
- é™æ€æ•°æ®é‡å¤æŸ¥è¯¢
- æ•°æ®åŸºæœ¬ä¸å˜ï¼Œå®Œå…¨å¯ä»¥ç¼“å­˜
- æŸ¥è¯¢æ¬¡æ•°ä¸ä¸šåŠ¡é¢‘ç‡æˆæ­£æ¯”

### æ€»ä½“è¯»å–é¢‘ç‡

| æ•°æ®ç±»å‹ | æŸ¥è¯¢é¢‘ç‡ï¼ˆæ¬¡/åˆ†é’Ÿï¼‰ | æ¯å°æ—¶æŸ¥è¯¢æ¬¡æ•° | å¤‡æ³¨ |
|---------|---------------|--------------|------|
| è§’è‰²ä¿¡æ¯ | 500-1000 | 30,000-60,000 | é«˜é¢‘ï¼Œéœ€ä¼˜å…ˆä¼˜åŒ– |
| æˆ˜æ–—æ•°æ® | 300-600 | 18,000-36,000 | é«˜é¢‘ï¼Œå®æ—¶æ€§è¦æ±‚ |
| æ´»åŠ¨è®¡åˆ’ | 150-300 | 9,000-18,000 | ä¸­é¢‘ï¼ŒçŠ¶æ€æŸ¥è¯¢ |
| è£…å¤‡èƒŒåŒ… | 80-150 | 4,800-9,000 | ä¸­é¢‘ï¼Œç”¨æˆ·æ“ä½œè§¦å‘ |
| é…ç½®æ•°æ® | 250-400 | 15,000-24,000 | é«˜é¢‘ï¼Œçº¯é™æ€æ•°æ® |
| **æ€»è®¡** | **1,280-2,450** | **~76,800-147,000** | **æé«˜é¢‘ç‡** |

**å¯¹æ¯”å†™å…¥ä¼˜åŒ–å‰çš„ 93,000 æ¬¡/å°æ—¶**ï¼š
- è¯»å–æ¬¡æ•°æ˜¯å†™å…¥æ¬¡æ•°çš„ **0.8-1.6 å€**
- å¦‚æœåŠ ä¸Šå†™å…¥æ“ä½œçš„å‰©ä½™ 1,920 æ¬¡/å°æ—¶
- æ€»æ•°æ®åº“æ“ä½œï¼š**78,720-148,920 æ¬¡/å°æ—¶**
- **è¯»å–å æ¯”ï¼š97.4-98.7%**

**ç»“è®º**ï¼š
> ğŸ“Š è™½ç„¶å†™å…¥ä¼˜åŒ–å–å¾—æ˜¾è‘—æˆæ•ˆï¼Œä½†è¯»å–æ“ä½œå·²æˆä¸ºæ–°çš„æ€§èƒ½ç“¶é¢ˆï¼Œå æ€»æ•°æ®åº“æ“ä½œçš„ **97%+**

---

## é—®é¢˜è¯†åˆ«

### æ ¸å¿ƒé—®é¢˜ç‚¹

#### é—®é¢˜ 1: æ•°æ®é‡å¤è¯»å– âš ï¸âš ï¸âš ï¸

**ç°è±¡**ï¼š
```
T0: API è¯·æ±‚ A è¯»å– Character(ID=123)
T0.5: API è¯·æ±‚ B è¯»å– Character(ID=123)  // é‡å¤
T1: API è¯·æ±‚ C è¯»å– Character(ID=123)    // é‡å¤
T2: API è¯·æ±‚ D è¯»å– Character(ID=123)    // é‡å¤
```

**ç»Ÿè®¡**ï¼š
- åŒä¸€è§’è‰²åœ¨ 10 ç§’å†…å¹³å‡è¢«è¯»å– **5-10 æ¬¡**
- 80% çš„è¯»å–æ˜¯é‡å¤çš„ï¼ˆè¯»å–æœ€è¿‘è®¿é—®è¿‡çš„æ•°æ®ï¼‰

**å½±å“**ï¼š
- æµªè´¹æ•°æ®åº“èµ„æº
- å¢åŠ å“åº”å»¶è¿Ÿ
- æ”¾å¤§å¹¶å‘å‹åŠ›

#### é—®é¢˜ 2: ç¼ºå°‘è¯»å†™ä¸€è‡´æ€§ âš ï¸âš ï¸

**ç°è±¡**ï¼š
```
T0: å†™å…¥ Character.LastSeenAtUtc (æ›´æ–°å†…å­˜ï¼Œæ ‡è®°dirty)
T1: è¯»å– Character (ä»æ•°æ®åº“ï¼Œè·å¾—æ—§å€¼)
T30: æ‰¹é‡ä¿å­˜ (æ›´æ–°æ•°æ®åº“)
```

**å½±å“**ï¼š
- è¯»å–åˆ°"è¿‡æ—¶"çš„æ•°æ®
- å¯èƒ½å½±å“ä¸šåŠ¡é€»è¾‘åˆ¤æ–­ï¼ˆå¦‚ç¦»çº¿æ£€æµ‹ï¼‰
- ç”¨æˆ·ä½“éªŒï¼šçœ‹åˆ°æ—§ä¿¡æ¯

#### é—®é¢˜ 3: é™æ€æ•°æ®é‡å¤æŸ¥è¯¢ âš ï¸âš ï¸âš ï¸

**ç°è±¡**ï¼š
- æŠ€èƒ½å®šä¹‰ã€ç‰©å“å®šä¹‰ç­‰é…ç½®æ•°æ®æ¯æ¬¡éƒ½æŸ¥æ•°æ®åº“
- è¿™äº›æ•°æ®åŸºæœ¬ä¸å˜ï¼ˆæˆ–æå°‘å˜æ›´ï¼‰
- æŸ¥è¯¢é¢‘ç‡é«˜è¾¾ 15,000-24,000 æ¬¡/å°æ—¶

**å½±å“**ï¼š
- çº¯ç²¹çš„èµ„æºæµªè´¹
- å®¹æ˜“ä¼˜åŒ–ï¼Œæ•ˆæœæ˜¾è‘—

#### é—®é¢˜ 4: å…³è”æŸ¥è¯¢è¿‡åº¦ âš ï¸âš ï¸

**ç°è±¡**ï¼š
```csharp
// æ¯æ¬¡éƒ½åŠ è½½æ‰€æœ‰å…³è”æ•°æ®
.Include(c => c.Equipment)
.Include(c => c.Inventory)
.Include(c => c.ActiveBattles)
```

**é—®é¢˜**ï¼š
- å¤§éƒ¨åˆ†åœºæ™¯åªéœ€è¦åŸºç¡€ä¿¡æ¯
- å…³è”æ•°æ®å¢åŠ æŸ¥è¯¢å¤æ‚åº¦å’Œæ—¶é—´
- åŠ è½½çš„æ•°æ®å¤§éƒ¨åˆ†ç”¨ä¸ä¸Š

**å½±å“**ï¼š
- JOIN æŸ¥è¯¢æ€§èƒ½å¼€é”€
- å†…å­˜å ç”¨å¢åŠ 
- åºåˆ—åŒ–/ååºåˆ—åŒ–å¼€é”€

#### é—®é¢˜ 5: ç¼ºå°‘ç¼“å­˜ç­–ç•¥ âš ï¸âš ï¸âš ï¸

**ç°çŠ¶**ï¼š
- æ²¡æœ‰ç¼“å­˜å¤±æ•ˆæœºåˆ¶
- æ²¡æœ‰ç¼“å­˜é¢„çƒ­
- æ²¡æœ‰åˆ†çº§ç¼“å­˜ï¼ˆçƒ­æ•°æ®/å†·æ•°æ®ï¼‰
- æ²¡æœ‰ç¼“å­˜ç›‘æ§æŒ‡æ ‡

**å½±å“**ï¼š
- æ— æ³•ç³»ç»ŸåŒ–ä¼˜åŒ–è¯»å–æ€§èƒ½
- æ²¡æœ‰æ•°æ®æ”¯æŒè°ƒä¼˜å†³ç­–

### æ ¹æœ¬åŸå› åˆ†æ

```
æ ¹æœ¬åŸå›  1: æ¶æ„è®¾è®¡ç¼ºå°‘è¯»å–ç¼“å­˜å±‚
    â†“
ç›´æ¥æ¨¡å¼ï¼šAPI â†’ Repository â†’ Database
    â†“
ç»“æœï¼šæ¯æ¬¡è¯»å–éƒ½æŸ¥æ•°æ®åº“

æ ¹æœ¬åŸå›  2: å†™å…¥ä¼˜åŒ–æœªè€ƒè™‘è¯»å–ä¸€è‡´æ€§
    â†“
å†™å…¥åœ¨å†…å­˜ï¼Œè¯»å–åœ¨æ•°æ®åº“ï¼Œæ•°æ®æºä¸ä¸€è‡´
    â†“
ç»“æœï¼šå¯èƒ½è¯»åˆ°æ—§æ•°æ®

æ ¹æœ¬åŸå›  3: æœªåŒºåˆ†"åŠ¨æ€æ•°æ®"å’Œ"é™æ€æ•°æ®"
    â†“
æ‰€æœ‰æ•°æ®ä¸€è§†åŒä»ï¼Œéƒ½å®æ—¶æŸ¥è¯¢
    â†“
ç»“æœï¼šé™æ€æ•°æ®é‡å¤æŸ¥è¯¢

æ ¹æœ¬åŸå›  4: ç¼ºå°‘åˆ†å±‚ç¼“å­˜ç­–ç•¥
    â†“
æ²¡æœ‰ L1(è¿›ç¨‹å†…ç¼“å­˜) / L2(åˆ†å¸ƒå¼ç¼“å­˜) åˆ†å±‚
    â†“
ç»“æœï¼šç¼“å­˜ç­–ç•¥ä¸å¤Ÿçµæ´»
```

---

## ä¼˜åŒ–ç›®æ ‡

### ä¸šåŠ¡ç›®æ ‡

1. **é™ä½æ•°æ®åº“å‹åŠ›**
   - è¯»å–æ¬¡æ•°å‡å°‘ 70-90%
   - ä» ~120,000 æ¬¡/å°æ—¶ é™è‡³ ~12,000-36,000 æ¬¡/å°æ—¶

2. **æå‡å“åº”é€Ÿåº¦**
   - API å“åº”æ—¶é—´æ”¹å–„ 30-50%
   - P95 å“åº”æ—¶é—´ < 100ms

3. **ç¡®ä¿æ•°æ®ä¸€è‡´æ€§**
   - è¯»å–æœ€æ–°çš„å†…å­˜æ•°æ®ï¼ˆå¦‚æœå·²æ›´æ–°ï¼‰
   - é¿å…è¯»åˆ°"è¿‡æ—¶"æ•°æ®

4. **ä¼˜åŒ–èµ„æºä½¿ç”¨**
   - å†…å­˜å¢é•¿æ§åˆ¶åœ¨ 150-300MB
   - CPU åˆ©ç”¨ç‡é™ä½ 10-20%

### æŠ€æœ¯ç›®æ ‡

1. **å»ºç«‹ç»Ÿä¸€çš„è¯»å–ç¼“å­˜å±‚**
   - å®ç° `CacheManager<T>` ç»Ÿä¸€ç®¡ç†ç¼“å­˜
   - æ”¯æŒå¤šç§ç¼“å­˜ç­–ç•¥ï¼ˆLRUã€TTLã€LFUï¼‰
   - ä¸ç°æœ‰ `MemoryStateManager<T>` é›†æˆ

2. **å®ç°åˆ†å±‚ç¼“å­˜æ¶æ„**
   - L1 ç¼“å­˜ï¼šè¿›ç¨‹å†…é«˜é€Ÿç¼“å­˜ï¼ˆçƒ­æ•°æ®ï¼‰
   - L2 ç¼“å­˜ï¼šå¯é€‰çš„åˆ†å¸ƒå¼ç¼“å­˜ï¼ˆæœªæ¥æ‰©å±•ï¼‰

3. **æ•°æ®åˆ†ç±»ç®¡ç†**
   - åŠ¨æ€æ•°æ®ï¼šCharacterã€Battleã€ActivityPlan
   - é™æ€æ•°æ®ï¼šæŠ€èƒ½ã€ç‰©å“ã€æ€ªç‰©æ¨¡æ¿
   - åŠé™æ€æ•°æ®ï¼šè£…å¤‡å®ä¾‹ã€èƒŒåŒ…

4. **ç¼“å­˜å¤±æ•ˆç­–ç•¥**
   - æ‰‹åŠ¨å¤±æ•ˆï¼šå†™å…¥æ›´æ–°æ—¶ä¸»åŠ¨å¤±æ•ˆ
   - å®šæ—¶å¤±æ•ˆï¼šTTL åˆ°æœŸè‡ªåŠ¨å¤±æ•ˆ
   - äº‹ä»¶é©±åŠ¨ï¼šç›‘å¬æ•°æ®å˜æ›´äº‹ä»¶

### é‡åŒ–æŒ‡æ ‡

| æŒ‡æ ‡ç±»å‹ | å½“å‰å€¼ | ç›®æ ‡å€¼ | æ”¹å–„å¹…åº¦ |
|---------|--------|--------|---------|
| æ•°æ®åº“è¯»å–ï¼ˆæ¬¡/å°æ—¶ï¼‰ | 120,000 | 12,000-36,000 | **70-90%** â†“ |
| ç¼“å­˜å‘½ä¸­ç‡ | 0% | 80-95% | - |
| API å“åº”æ—¶é—´ P95 | 150-200ms | <100ms | **30-50%** â†“ |
| æ•°æ®åº“è¿æ¥æ± åˆ©ç”¨ç‡ | 60-80% | 30-50% | **30-50%** â†“ |
| å†…å­˜ä½¿ç”¨ | ~350MB | ~500-650MB | +150-300MB |
| ç¼“å­˜å¤±æ•ˆå»¶è¿Ÿ | N/A | <100ms | - |

### éåŠŸèƒ½æ€§ç›®æ ‡

1. **å¯é…ç½®æ€§**
   - æ‰€æœ‰ç¼“å­˜å‚æ•°åœ¨é…ç½®æ–‡ä»¶ä¸­
   - æ”¯æŒå®ä½“ç±»å‹å·®å¼‚åŒ–ç­–ç•¥
   - å¯é€šè¿‡é…ç½®å¼€å…³ç¦ç”¨ç¼“å­˜

2. **å¯è§‚æµ‹æ€§**
   - ç¼“å­˜å‘½ä¸­ç‡ç›‘æ§
   - ç¼“å­˜å¤±æ•ˆç»Ÿè®¡
   - å†…å­˜ä½¿ç”¨ç›‘æ§
   - æ€§èƒ½å¯¹æ¯”æŒ‡æ ‡

3. **å¯ç»´æŠ¤æ€§**
   - æ¸…æ™°çš„ä»£ç ç»“æ„
   - å®Œæ•´çš„æ–‡æ¡£æ³¨é‡Š
   - è¯¦ç»†çš„å®æ–½æŒ‡å—

4. **å‘åå…¼å®¹**
   - ä¸ä¿®æ”¹ç°æœ‰ API æ¥å£
   - é€šè¿‡å¼€å…³å¯ç«‹å³ç¦ç”¨
   - Fallback æœºåˆ¶ä¿è¯ç¨³å®šæ€§

---

## æ¶æ„è®¾è®¡

### æ•´ä½“æ¶æ„

#### å½“å‰æ¶æ„ï¼ˆPhase 1-2 å†™å…¥ä¼˜åŒ–åï¼‰

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  API Controllers                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚               Service Layer                          â”‚
â”‚  (Domain Services, Application Services)            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚                           â”‚
            â”‚ å†™å…¥                       â”‚ è¯»å–
            â–¼                           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ MemoryStateManager<T> â”‚   â”‚    Repositories          â”‚
â”‚  (å†™å…¥æ—¶æ›´æ–°å†…å­˜)      â”‚   â”‚  (æ¯æ¬¡éƒ½æŸ¥æ•°æ®åº“) âš ï¸     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚ å®šæœŸæ‰¹é‡                    â”‚ æ¯æ¬¡è¯»å–
        â–¼                             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚PersistenceCoordinatorâ”‚       â”‚   Database   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚ æ‰¹é‡ä¿å­˜
        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Database    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**é—®é¢˜**ï¼š
- âœ… å†™å…¥è·¯å¾„å·²ä¼˜åŒ–ï¼ˆå†…å­˜ç¼“å†² + æ‰¹é‡ä¿å­˜ï¼‰
- âš ï¸ è¯»å–è·¯å¾„æœªä¼˜åŒ–ï¼ˆæ¯æ¬¡éƒ½æŸ¥æ•°æ®åº“ï¼‰
- âš ï¸ è¯»å†™æ•°æ®æºä¸ä¸€è‡´ï¼ˆå†™å…¥åœ¨å†…å­˜ï¼Œè¯»å–åœ¨æ•°æ®åº“ï¼‰

#### ç›®æ ‡æ¶æ„ï¼ˆPhase 3 è¯»å–ä¼˜åŒ–åï¼‰

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  API Controllers                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚               Service Layer                               â”‚
â”‚  (Domain Services, Application Services)                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚                            â”‚
            â”‚ å†™å…¥                        â”‚ è¯»å–
            â–¼                            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚MemoryStateManager<T> â”‚    â”‚   CacheManager<T> âœ¨æ–°å¢   â”‚
â”‚ (å†™å…¥æ—¶æ›´æ–°)          â”‚â”€â”€â”€â–¶â”‚  - ç»Ÿä¸€è¯»å–å…¥å£            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚  - ä¼˜å…ˆè¯»å†…å­˜              â”‚
           â”‚                â”‚  - æœªå‘½ä¸­æŸ¥æ•°æ®åº“           â”‚
           â”‚                â”‚  - è‡ªåŠ¨å¤±æ•ˆç®¡ç†             â”‚
           â”‚                â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚                         â”‚
           â”‚ å®šæœŸæ‰¹é‡                 â”‚ ç¼“å­˜æœªå‘½ä¸­
           â–¼                         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚PersistenceCoordinatorâ”‚      â”‚ Repositories â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                           â”‚
         â”‚ æ‰¹é‡ä¿å­˜                   â”‚ æŸ¥è¯¢
         â–¼                           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Database                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**æ”¹è¿›**ï¼š
- âœ… è¯»å–è·¯å¾„ä¼˜åŒ–ï¼ˆä¼˜å…ˆå†…å­˜ï¼Œæœªå‘½ä¸­æ‰æŸ¥æ•°æ®åº“ï¼‰
- âœ… è¯»å†™ä¸€è‡´æ€§ï¼ˆä¼˜å…ˆè¯»å– MemoryStateManager ä¸­çš„æœ€æ–°æ•°æ®ï¼‰
- âœ… ç¼“å­˜è‡ªåŠ¨å¤±æ•ˆï¼ˆå†™å…¥æ›´æ–°æ—¶ä¸»åŠ¨å¤±æ•ˆç¼“å­˜ï¼‰

### æ ¸å¿ƒç»„ä»¶è®¾è®¡

#### 1. CacheManager<T>

**èŒè´£**ï¼š
- ç»Ÿä¸€çš„è¯»å–ç¼“å­˜ç®¡ç†
- é›†æˆ MemoryStateManager çš„æ•°æ®
- ç®¡ç†ç¼“å­˜å¤±æ•ˆç­–ç•¥
- æä¾›ç¼“å­˜ç»Ÿè®¡ä¿¡æ¯

**æ¥å£å®šä¹‰**ï¼š
```csharp
public interface ICacheManager<T> where T : class, IEntity
{
    /// <summary>
    /// è·å–å®ä½“ï¼ˆä¼˜å…ˆä»ç¼“å­˜ï¼Œæœªå‘½ä¸­åˆ™ä»æ•°æ®åº“åŠ è½½ï¼‰
    /// Get entity (from cache first, load from database if miss)
    /// </summary>
    Task<T?> GetAsync(Guid id, CancellationToken ct = default);
    
    /// <summary>
    /// æ‰¹é‡è·å–å®ä½“
    /// Get multiple entities
    /// </summary>
    Task<IReadOnlyList<T>> GetManyAsync(
        IEnumerable<Guid> ids, 
        CancellationToken ct = default);
    
    /// <summary>
    /// è·å–æ»¡è¶³æ¡ä»¶çš„å®ä½“ï¼ˆå…ˆæŸ¥ç¼“å­˜ï¼Œå¿…è¦æ—¶æŸ¥æ•°æ®åº“ï¼‰
    /// Get entities by predicate
    /// </summary>
    Task<IReadOnlyList<T>> GetWhereAsync(
        Expression<Func<T, bool>> predicate, 
        CancellationToken ct = default);
    
    /// <summary>
    /// ä½¿æŒ‡å®šå®ä½“çš„ç¼“å­˜å¤±æ•ˆ
    /// Invalidate cache for specific entity
    /// </summary>
    void Invalidate(Guid id);
    
    /// <summary>
    /// ä½¿æ‰€æœ‰ç¼“å­˜å¤±æ•ˆ
    /// Invalidate all cache
    /// </summary>
    void InvalidateAll();
    
    /// <summary>
    /// é¢„çƒ­ç¼“å­˜ï¼ˆåŠ è½½å¸¸ç”¨æ•°æ®ï¼‰
    /// Warm up cache
    /// </summary>
    Task WarmUpAsync(CancellationToken ct = default);
    
    /// <summary>
    /// è·å–ç¼“å­˜ç»Ÿè®¡ä¿¡æ¯
    /// Get cache statistics
    /// </summary>
    CacheStatistics GetStatistics();
}
```

**å…³é”®ç‰¹æ€§**ï¼š
- ä¸ `IMemoryStateManager<T>` é›†æˆï¼ˆä¼˜å…ˆè¯»å–å·²æ›´æ–°çš„æ•°æ®ï¼‰
- æ”¯æŒå•ä¸ªå’Œæ‰¹é‡æŸ¥è¯¢
- æ”¯æŒæ¡ä»¶æŸ¥è¯¢ï¼ˆç¼“å­˜ç´¢å¼•ï¼‰
- è‡ªåŠ¨å¤±æ•ˆæœºåˆ¶
- ç»Ÿè®¡ä¿¡æ¯æ”¶é›†

#### 2. CacheStatistics

**ç»Ÿè®¡ä¿¡æ¯ç»“æ„**ï¼š
```csharp
public class CacheStatistics
{
    /// <summary>
    /// ç¼“å­˜æ€»å‘½ä¸­æ¬¡æ•°
    /// </summary>
    public long TotalHits { get; set; }
    
    /// <summary>
    /// ç¼“å­˜æ€»æœªå‘½ä¸­æ¬¡æ•°
    /// </summary>
    public long TotalMisses { get; set; }
    
    /// <summary>
    /// ç¼“å­˜å‘½ä¸­ç‡ï¼ˆç™¾åˆ†æ¯”ï¼‰
    /// </summary>
    public double HitRate => TotalHits + TotalMisses > 0
        ? (double)TotalHits / (TotalHits + TotalMisses) * 100
        : 0;
    
    /// <summary>
    /// å½“å‰ç¼“å­˜å®ä½“æ•°é‡
    /// </summary>
    public int CachedCount { get; set; }
    
    /// <summary>
    /// ç¼“å­˜å¤±æ•ˆæ¬¡æ•°
    /// </summary>
    public long InvalidationCount { get; set; }
    
    /// <summary>
    /// å¹³å‡æŸ¥è¯¢æ—¶é—´ï¼ˆæ¯«ç§’ï¼‰
    /// </summary>
    public double AverageQueryMs { get; set; }
}
```

#### 3. CacheInvalidationCoordinator

**èŒè´£**ï¼š
- ç›‘å¬æ•°æ®å˜æ›´äº‹ä»¶
- åè°ƒç¼“å­˜å¤±æ•ˆ
- ç¡®ä¿è¯»å†™ä¸€è‡´æ€§

**å·¥ä½œæµç¨‹**ï¼š
```
MemoryStateManager.Update(entity)
    â†“
è§¦å‘ EntityUpdatedEvent
    â†“
CacheInvalidationCoordinator ç›‘å¬
    â†“
è°ƒç”¨ CacheManager.Invalidate(entity.Id)
    â†“
ä¸‹æ¬¡è¯»å–æ—¶é‡æ–°åŠ è½½æœ€æ–°æ•°æ®
```

#### 4. StaticDataCacheManager

**èŒè´£**ï¼š
- ä¸“é—¨ç®¡ç†é™æ€é…ç½®æ•°æ®
- æŠ€èƒ½å®šä¹‰ã€ç‰©å“å®šä¹‰ç­‰
- é•¿æœŸç¼“å­˜ï¼Œæå°‘å¤±æ•ˆ

**ç‰¹ç‚¹**ï¼š
- å¯åŠ¨æ—¶é¢„çƒ­ï¼ˆåŠ è½½å…¨éƒ¨é™æ€æ•°æ®ï¼‰
- TTL è®¾ç½®ä¸ºæé•¿ï¼ˆ24å°æ—¶æˆ–æ›´é•¿ï¼‰
- æ”¯æŒæ‰‹åŠ¨åˆ·æ–°ï¼ˆé…ç½®çƒ­æ›´æ–°æ—¶ï¼‰

### æ•°æ®åˆ†ç±»ç­–ç•¥

#### åŠ¨æ€æ•°æ®ï¼ˆå®æ—¶æ€§è¦æ±‚é«˜ï¼‰

**æ•°æ®ç±»å‹**ï¼š
- Characterï¼ˆè§’è‰²ä¿¡æ¯ï¼‰
- RunningBattleSnapshotï¼ˆæˆ˜æ–—å¿«ç…§ï¼‰
- ActivityPlanï¼ˆæ´»åŠ¨è®¡åˆ’ï¼‰

**ç¼“å­˜ç­–ç•¥**ï¼š
- TTLï¼š5-10 åˆ†é’Ÿ
- å¤±æ•ˆï¼šå†™å…¥æ›´æ–°æ—¶ä¸»åŠ¨å¤±æ•ˆ
- ä¼˜å…ˆçº§ï¼šä¼˜å…ˆè¯»å– MemoryStateManager ä¸­çš„æœ€æ–°æ•°æ®

#### åŠé™æ€æ•°æ®ï¼ˆå¶å°”å˜æ›´ï¼‰

**æ•°æ®ç±»å‹**ï¼š
- EquipmentInstanceï¼ˆè£…å¤‡å®ä¾‹ï¼‰
- InventoryItemï¼ˆèƒŒåŒ…ç‰©å“ï¼‰

**ç¼“å­˜ç­–ç•¥**ï¼š
- TTLï¼š30-60 åˆ†é’Ÿ
- å¤±æ•ˆï¼šè£…å¤‡/èƒŒåŒ…æ“ä½œæ—¶å¤±æ•ˆ
- é¢„çƒ­ï¼šç™»å½•æ—¶åŠ è½½è§’è‰²çš„è£…å¤‡å’ŒèƒŒåŒ…

#### é™æ€æ•°æ®ï¼ˆåŸºæœ¬ä¸å˜ï¼‰

**æ•°æ®ç±»å‹**ï¼š
- SkillDefinitionï¼ˆæŠ€èƒ½å®šä¹‰ï¼‰
- ItemDefinitionï¼ˆç‰©å“å®šä¹‰ï¼‰
- MonsterTemplateï¼ˆæ€ªç‰©æ¨¡æ¿ï¼‰

**ç¼“å­˜ç­–ç•¥**ï¼š
- TTLï¼š24 å°æ—¶æˆ–æ›´é•¿
- å¤±æ•ˆï¼šé…ç½®çƒ­æ›´æ–°æ—¶æ‰‹åŠ¨å¤±æ•ˆ
- é¢„çƒ­ï¼šå¯åŠ¨æ—¶åŠ è½½å…¨éƒ¨é™æ€æ•°æ®

### ç¼“å­˜å¤±æ•ˆç­–ç•¥

#### ç­–ç•¥ 1: ä¸»åŠ¨å¤±æ•ˆï¼ˆWrite-Throughï¼‰

**æµç¨‹**ï¼š
```
æ›´æ–°æ•°æ®
    â†“
å†™å…¥ MemoryStateManager
    â†“
è§¦å‘ EntityUpdatedEvent
    â†“
CacheInvalidationCoordinator å¤±æ•ˆç¼“å­˜
    â†“
ä¸‹æ¬¡è¯»å–æ—¶é‡æ–°åŠ è½½
```

**ä¼˜ç‚¹**ï¼š
- ç¡®ä¿è¯»å–æœ€æ–°æ•°æ®
- æ•°æ®ä¸€è‡´æ€§å¼º

**é€‚ç”¨**ï¼šåŠ¨æ€æ•°æ®ï¼ˆCharacterã€Battleã€ActivityPlanï¼‰

#### ç­–ç•¥ 2: TTL å¤±æ•ˆï¼ˆTime-To-Liveï¼‰

**æµç¨‹**ï¼š
```
æ•°æ®åŠ è½½åˆ°ç¼“å­˜
    â†“
è®°å½•åŠ è½½æ—¶é—´å’Œ TTL
    â†“
æ¯æ¬¡è¯»å–æ£€æŸ¥æ˜¯å¦è¿‡æœŸ
    â†“
è¿‡æœŸåˆ™é‡æ–°åŠ è½½
```

**ä¼˜ç‚¹**ï¼š
- è‡ªåŠ¨æ¸…ç†æ—§æ•°æ®
- å‡å°‘å†…å­˜å ç”¨

**é€‚ç”¨**ï¼šåŠé™æ€æ•°æ®ã€é™æ€æ•°æ®

#### ç­–ç•¥ 3: LRU æ¸…ç†ï¼ˆLeast Recently Usedï¼‰

**æµç¨‹**ï¼š
```
ç¼“å­˜è¾¾åˆ°å®¹é‡ä¸Šé™
    â†“
æ‰¾å‡ºæœ€ä¹…æœªè®¿é—®çš„å®ä½“ï¼ˆé Dirtyï¼‰
    â†“
ç§»é™¤ç¼“å­˜
    â†“
ä¸‹æ¬¡è®¿é—®æ—¶é‡æ–°åŠ è½½
```

**ä¼˜ç‚¹**ï¼š
- æ§åˆ¶å†…å­˜ä½¿ç”¨
- ä¿ç•™çƒ­æ•°æ®

**é€‚ç”¨**ï¼šæ‰€æœ‰æ•°æ®ç±»å‹

---

## æŠ€æœ¯é€‰å‹

### ç¼“å­˜å®ç°æ–¹æ¡ˆ

#### æ–¹æ¡ˆ 1: æ‰©å±• MemoryStateManager â­â­â­â­â­ (æ¨è)

**æ–¹æ¡ˆæè¿°**ï¼š
- åœ¨ç°æœ‰ `MemoryStateManager<T>` åŸºç¡€ä¸Šå¢å¼ºè¯»å–åŠŸèƒ½
- æ·»åŠ ç¼“å­˜ç»Ÿè®¡ã€å¤±æ•ˆç­–ç•¥ç­‰åŠŸèƒ½
- ä¿æŒæ¶æ„ä¸€è‡´æ€§

**ä¼˜ç‚¹**ï¼š
- âœ… å¤ç”¨ç°æœ‰åŸºç¡€è®¾æ–½
- âœ… è¯»å†™æ•°æ®æºç»Ÿä¸€ï¼ˆå¤©ç„¶ä¸€è‡´æ€§ï¼‰
- âœ… æœ€å°åŒ–æ¶æ„å˜æ›´
- âœ… ä»£ç ç»´æŠ¤ç®€å•

**ç¼ºç‚¹**ï¼š
- âš ï¸ `MemoryStateManager` èŒè´£å¢åŠ 
- âš ï¸ éœ€è¦é‡æ„ç°æœ‰æ¥å£

**å®æ–½éš¾åº¦**ï¼šâ­â­â­ï¼ˆä¸­ç­‰ï¼‰

#### æ–¹æ¡ˆ 2: æ–°å»ºç‹¬ç«‹çš„ CacheManager

**æ–¹æ¡ˆæè¿°**ï¼š
- åˆ›å»ºç‹¬ç«‹çš„ `CacheManager<T>` ç»„ä»¶
- ä¸ `MemoryStateManager<T>` ååŒå·¥ä½œ
- è¯»å–æ—¶å…ˆæŸ¥ `MemoryStateManager`ï¼Œå†æŸ¥ `CacheManager`

**ä¼˜ç‚¹**ï¼š
- âœ… èŒè´£åˆ†ç¦»æ¸…æ™°
- âœ… ä¸å½±å“ç°æœ‰ `MemoryStateManager`
- âœ… çµæ´»çš„ç¼“å­˜ç­–ç•¥

**ç¼ºç‚¹**ï¼š
- âš ï¸ æ¶æ„å¤æ‚åº¦å¢åŠ 
- âš ï¸ ä¸¤ä¸ªç»„ä»¶éœ€è¦åŒæ­¥
- âš ï¸ å¯èƒ½çš„æ•°æ®ä¸ä¸€è‡´

**å®æ–½éš¾åº¦**ï¼šâ­â­â­â­ï¼ˆè¾ƒé«˜ï¼‰

#### æ–¹æ¡ˆ 3: ä½¿ç”¨ç¬¬ä¸‰æ–¹ç¼“å­˜åº“ï¼ˆå¦‚ LazyCacheï¼‰

**æ–¹æ¡ˆæè¿°**ï¼š
- é›†æˆ `LazyCache` æˆ–ç±»ä¼¼åº“
- å°è£…ä¸ºç»Ÿä¸€çš„ç¼“å­˜æ¥å£

**ä¼˜ç‚¹**ï¼š
- âœ… æˆç†Ÿç¨³å®š
- âœ… åŠŸèƒ½ä¸°å¯Œ

**ç¼ºç‚¹**ï¼š
- âš ï¸ å¼•å…¥å¤–éƒ¨ä¾èµ–
- âš ï¸ ä¸ `MemoryStateManager` é›†æˆå¤æ‚
- âš ï¸ å¯èƒ½çš„è®¸å¯è¯é—®é¢˜

**å®æ–½éš¾åº¦**ï¼šâ­â­â­ï¼ˆä¸­ç­‰ï¼‰

### æ¨èæ–¹æ¡ˆ

**é€‰æ‹©**ï¼šæ–¹æ¡ˆ 1 - æ‰©å±• MemoryStateManager â­â­â­â­â­

**ç†ç”±**ï¼š
1. ä¸ç°æœ‰æ¶æ„æœ€å¥‘åˆ
2. è¯»å†™æ•°æ®æºç»Ÿä¸€ï¼Œå¤©ç„¶ä¿è¯ä¸€è‡´æ€§
3. æœ€å°åŒ–å˜æ›´ï¼Œé™ä½é£é™©
4. ä»£ç ç»´æŠ¤ç®€å•

**å®æ–½è¦ç‚¹**ï¼š
- å°† `MemoryStateManager<T>` æ‰©å±•ä¸ºåŒæ—¶æ”¯æŒè¯»å†™
- æ·»åŠ ç¼“å­˜ç»Ÿè®¡åŠŸèƒ½
- å®ç°å¤šç§å¤±æ•ˆç­–ç•¥
- ä¿æŒå‘åå…¼å®¹

---

## é…ç½®è®¾è®¡

### é…ç½®æ–‡ä»¶ç»“æ„

```json
{
  "Cache": {
    // ä¸»å¼€å…³ï¼šæ˜¯å¦å¯ç”¨è¯»å–ç¼“å­˜
    "EnableReadCache": true,
    
    // é»˜è®¤ç¼“å­˜é…ç½®
    "DefaultCacheOptions": {
      // ç¼“å­˜ TTLï¼ˆç§’ï¼Œ0è¡¨ç¤ºæ°¸ä¸è¿‡æœŸï¼‰
      "TimeToLiveSeconds": 600,
      
      // ç¼“å­˜å®¹é‡é™åˆ¶
      "MaxCachedEntities": 50000,
      
      // æ¸…ç†ç­–ç•¥ï¼šLRUã€TTLã€LFU
      "EvictionPolicy": "LRU",
      
      // ç¼“å­˜é¢„çƒ­ï¼šå¯åŠ¨æ—¶æ˜¯å¦é¢„åŠ è½½
      "EnableWarmUp": true,
      
      // å¤±æ•ˆå»¶è¿Ÿï¼ˆæ¯«ç§’ï¼Œç”¨äºæ‰¹é‡å¤±æ•ˆï¼‰
      "InvalidationDelayMs": 100
    },
    
    // å®ä½“ç±»å‹å·®å¼‚åŒ–ç¼“å­˜ç­–ç•¥
    "EntityCacheStrategies": {
      // è§’è‰²ä¿¡æ¯ï¼ˆåŠ¨æ€æ•°æ®ï¼‰
      "Character": {
        "TimeToLiveSeconds": 300,        // 5åˆ†é’Ÿ
        "MaxCachedEntities": 10000,
        "EvictionPolicy": "LRU",
        "EnableWarmUp": false,
        "InvalidateOnWrite": true         // å†™å…¥æ—¶å¤±æ•ˆ
      },
      
      // æˆ˜æ–—å¿«ç…§ï¼ˆå®æ—¶æ•°æ®ï¼‰
      "RunningBattleSnapshot": {
        "TimeToLiveSeconds": 60,          // 1åˆ†é’Ÿï¼ˆå®æ—¶æ€§è¦æ±‚é«˜ï¼‰
        "MaxCachedEntities": 5000,
        "EvictionPolicy": "LRU",
        "EnableWarmUp": false,
        "InvalidateOnWrite": true
      },
      
      // æ´»åŠ¨è®¡åˆ’ï¼ˆåŠ¨æ€æ•°æ®ï¼‰
      "ActivityPlan": {
        "TimeToLiveSeconds": 300,         // 5åˆ†é’Ÿ
        "MaxCachedEntities": 5000,
        "EvictionPolicy": "LRU",
        "EnableWarmUp": false,
        "InvalidateOnWrite": true
      },
      
      // è£…å¤‡å®ä¾‹ï¼ˆåŠé™æ€ï¼‰
      "EquipmentInstance": {
        "TimeToLiveSeconds": 1800,        // 30åˆ†é’Ÿ
        "MaxCachedEntities": 20000,
        "EvictionPolicy": "LRU",
        "EnableWarmUp": true,             // ç™»å½•æ—¶é¢„çƒ­
        "InvalidateOnWrite": true
      },
      
      // æŠ€èƒ½å®šä¹‰ï¼ˆé™æ€é…ç½®ï¼‰
      "SkillDefinition": {
        "TimeToLiveSeconds": 86400,       // 24å°æ—¶
        "MaxCachedEntities": 1000,
        "EvictionPolicy": "None",         // ä¸æ¸…ç†ï¼Œé™¤éæ‰‹åŠ¨
        "EnableWarmUp": true,             // å¯åŠ¨æ—¶åŠ è½½å…¨éƒ¨
        "InvalidateOnWrite": false        // é…ç½®æ›´æ–°æ—¶æ‰‹åŠ¨å¤±æ•ˆ
      },
      
      // ç‰©å“å®šä¹‰ï¼ˆé™æ€é…ç½®ï¼‰
      "ItemDefinition": {
        "TimeToLiveSeconds": 86400,
        "MaxCachedEntities": 2000,
        "EvictionPolicy": "None",
        "EnableWarmUp": true,
        "InvalidateOnWrite": false
      },
      
      // æ€ªç‰©æ¨¡æ¿ï¼ˆé™æ€é…ç½®ï¼‰
      "MonsterTemplate": {
        "TimeToLiveSeconds": 86400,
        "MaxCachedEntities": 500,
        "EvictionPolicy": "None",
        "EnableWarmUp": true,
        "InvalidateOnWrite": false
      }
    },
    
    // ç›‘æ§é…ç½®
    "Monitoring": {
      // æ˜¯å¦å¯ç”¨ç¼“å­˜ç»Ÿè®¡
      "EnableStatistics": true,
      
      // ç»Ÿè®¡ä¿¡æ¯è®°å½•é—´éš”ï¼ˆç§’ï¼‰
      "StatisticsIntervalSeconds": 60,
      
      // æ˜¯å¦å¯ç”¨è¯¦ç»†æ—¥å¿—
      "EnableDetailedLogging": false,
      
      // ç¼“å­˜å‘½ä¸­ç‡å‘Šè­¦é˜ˆå€¼ï¼ˆç™¾åˆ†æ¯”ï¼‰
      "HitRateAlertThreshold": 70
    },
    
    // é¢„çƒ­é…ç½®
    "WarmUp": {
      // æ˜¯å¦åœ¨å¯åŠ¨æ—¶é¢„çƒ­
      "EnableOnStartup": true,
      
      // é¢„çƒ­è¶…æ—¶ï¼ˆç§’ï¼‰
      "TimeoutSeconds": 30,
      
      // é¢„çƒ­å¤±è´¥æ˜¯å¦é˜»å¡å¯åŠ¨
      "BlockStartupOnFailure": false,
      
      // éœ€è¦é¢„çƒ­çš„å®ä½“ç±»å‹
      "EntityTypes": [
        "SkillDefinition",
        "ItemDefinition",
        "MonsterTemplate"
      ]
    }
  }
}
```

### é…ç½®ç±»å®šä¹‰

```csharp
/// <summary>
/// ç¼“å­˜é…ç½®é€‰é¡¹
/// Cache configuration options
/// </summary>
public class CacheOptions
{
    /// <summary>
    /// æ˜¯å¦å¯ç”¨è¯»å–ç¼“å­˜
    /// Enable read cache
    /// </summary>
    public bool EnableReadCache { get; set; } = true;
    
    /// <summary>
    /// é»˜è®¤ç¼“å­˜é…ç½®
    /// Default cache options
    /// </summary>
    public EntityCacheOptions DefaultCacheOptions { get; set; } = new();
    
    /// <summary>
    /// å®ä½“ç±»å‹å·®å¼‚åŒ–ç¼“å­˜ç­–ç•¥
    /// Entity-specific cache strategies
    /// </summary>
    public Dictionary<string, EntityCacheOptions> EntityCacheStrategies { get; set; } = new();
    
    /// <summary>
    /// ç›‘æ§é…ç½®
    /// Monitoring configuration
    /// </summary>
    public CacheMonitoringOptions Monitoring { get; set; } = new();
    
    /// <summary>
    /// é¢„çƒ­é…ç½®
    /// Warm-up configuration
    /// </summary>
    public CacheWarmUpOptions WarmUp { get; set; } = new();
}

/// <summary>
/// å®ä½“ç¼“å­˜é…ç½®é€‰é¡¹
/// Entity cache options
/// </summary>
public class EntityCacheOptions
{
    /// <summary>
    /// ç¼“å­˜ TTLï¼ˆç§’ï¼Œ0è¡¨ç¤ºæ°¸ä¸è¿‡æœŸï¼‰
    /// Time to live in seconds (0 = never expire)
    /// </summary>
    [Range(0, 86400 * 7)]  // æœ€é•¿7å¤©
    public int TimeToLiveSeconds { get; set; } = 600;
    
    /// <summary>
    /// ç¼“å­˜å®¹é‡é™åˆ¶
    /// Maximum cached entities
    /// </summary>
    [Range(100, 1000000)]
    public int MaxCachedEntities { get; set; } = 50000;
    
    /// <summary>
    /// æ¸…ç†ç­–ç•¥
    /// Eviction policy
    /// </summary>
    public string EvictionPolicy { get; set; } = "LRU";
    
    /// <summary>
    /// æ˜¯å¦å¯ç”¨é¢„çƒ­
    /// Enable warm-up
    /// </summary>
    public bool EnableWarmUp { get; set; } = false;
    
    /// <summary>
    /// å†™å…¥æ—¶æ˜¯å¦å¤±æ•ˆç¼“å­˜
    /// Invalidate cache on write
    /// </summary>
    public bool InvalidateOnWrite { get; set; } = true;
    
    /// <summary>
    /// å¤±æ•ˆå»¶è¿Ÿï¼ˆæ¯«ç§’ï¼‰
    /// Invalidation delay in milliseconds
    /// </summary>
    [Range(0, 10000)]
    public int InvalidationDelayMs { get; set; } = 100;
}

/// <summary>
/// ç¼“å­˜ç›‘æ§é…ç½®
/// Cache monitoring options
/// </summary>
public class CacheMonitoringOptions
{
    /// <summary>
    /// æ˜¯å¦å¯ç”¨ç¼“å­˜ç»Ÿè®¡
    /// Enable statistics
    /// </summary>
    public bool EnableStatistics { get; set; } = true;
    
    /// <summary>
    /// ç»Ÿè®¡ä¿¡æ¯è®°å½•é—´éš”ï¼ˆç§’ï¼‰
    /// Statistics interval in seconds
    /// </summary>
    [Range(10, 3600)]
    public int StatisticsIntervalSeconds { get; set; } = 60;
    
    /// <summary>
    /// æ˜¯å¦å¯ç”¨è¯¦ç»†æ—¥å¿—
    /// Enable detailed logging
    /// </summary>
    public bool EnableDetailedLogging { get; set; } = false;
    
    /// <summary>
    /// ç¼“å­˜å‘½ä¸­ç‡å‘Šè­¦é˜ˆå€¼ï¼ˆç™¾åˆ†æ¯”ï¼‰
    /// Hit rate alert threshold (percentage)
    /// </summary>
    [Range(0, 100)]
    public double HitRateAlertThreshold { get; set; } = 70;
}

/// <summary>
/// ç¼“å­˜é¢„çƒ­é…ç½®
/// Cache warm-up options
/// </summary>
public class CacheWarmUpOptions
{
    /// <summary>
    /// æ˜¯å¦åœ¨å¯åŠ¨æ—¶é¢„çƒ­
    /// Enable warm-up on startup
    /// </summary>
    public bool EnableOnStartup { get; set; } = true;
    
    /// <summary>
    /// é¢„çƒ­è¶…æ—¶ï¼ˆç§’ï¼‰
    /// Warm-up timeout in seconds
    /// </summary>
    [Range(5, 300)]
    public int TimeoutSeconds { get; set; } = 30;
    
    /// <summary>
    /// é¢„çƒ­å¤±è´¥æ˜¯å¦é˜»å¡å¯åŠ¨
    /// Block startup on warm-up failure
    /// </summary>
    public bool BlockStartupOnFailure { get; set; } = false;
    
    /// <summary>
    /// éœ€è¦é¢„çƒ­çš„å®ä½“ç±»å‹
    /// Entity types to warm up
    /// </summary>
    public List<string> EntityTypes { get; set; } = new();
}
```

### é…ç½®éªŒè¯

```csharp
// Program.cs or DependencyInjection.cs
services.AddOptions<CacheOptions>()
    .Bind(configuration.GetSection("Cache"))
    .ValidateDataAnnotations()
    .ValidateOnStart();
```

---

## æ€»ç»“

### ä¸Šç¯‡è¦ç‚¹å›é¡¾

1. **ç°çŠ¶åˆ†æ**
   - âœ… å†™å…¥ä¼˜åŒ–å·²å®Œæˆï¼ˆå‡å°‘ 97.9%ï¼‰
   - âš ï¸ è¯»å–æœªä¼˜åŒ–ï¼ˆæ¯å°æ—¶ 120,000 æ¬¡æŸ¥è¯¢ï¼‰
   - âš ï¸ è¯»å–å æ€»æ•°æ®åº“æ“ä½œçš„ 97%+

2. **æ ¸å¿ƒé—®é¢˜**
   - æ•°æ®é‡å¤è¯»å–ï¼ˆ80% é‡å¤ï¼‰
   - ç¼ºå°‘è¯»å†™ä¸€è‡´æ€§ï¼ˆè¯»æ—§æ•°æ®ï¼‰
   - é™æ€æ•°æ®é‡å¤æŸ¥è¯¢ï¼ˆçº¯æµªè´¹ï¼‰
   - å…³è”æŸ¥è¯¢è¿‡åº¦ï¼ˆJOIN å¼€é”€ï¼‰

3. **ä¼˜åŒ–ç›®æ ‡**
   - æ•°æ®åº“è¯»å–å‡å°‘ 70-90%
   - ç¼“å­˜å‘½ä¸­ç‡ 80%+
   - API å“åº”æ—¶é—´æ”¹å–„ 30-50%
   - å†…å­˜å¢é•¿æ§åˆ¶åœ¨ 150-300MB

4. **æ¶æ„è®¾è®¡**
   - æ‰©å±• `MemoryStateManager` æ”¯æŒè¯»å–
   - å®ç°ç»Ÿä¸€çš„ `CacheManager` æ¥å£
   - åˆ†å±‚ç¼“å­˜ï¼ˆL1 è¿›ç¨‹å†…ï¼‰
   - æ•°æ®åˆ†ç±»ï¼ˆåŠ¨æ€ã€åŠé™æ€ã€é™æ€ï¼‰

5. **é…ç½®è®¾è®¡**
   - å®Œå…¨é…ç½®åŒ–ï¼ˆappsettings.jsonï¼‰
   - å®ä½“å·®å¼‚åŒ–ç­–ç•¥
   - å¯é€šè¿‡å¼€å…³ç¦ç”¨
   - ç›‘æ§å’Œé¢„çƒ­é…ç½®

### ä¸‹ä¸€æ­¥

è¯·é˜…è¯» **ä¸­ç¯‡ï¼šè¯¦ç»†å®æ–½æ–¹æ¡ˆ**ï¼ŒåŒ…å«ï¼š
- è¯¦ç»†çš„å®æ–½æ­¥éª¤
- ä»£ç å®ç°ç¤ºä¾‹
- æµ‹è¯•æ–¹æ¡ˆ
- é£é™©ç®¡ç†
- è¿ç§»ç­–ç•¥

---

**æ–‡æ¡£çŠ¶æ€**: âœ… éœ€æ±‚åˆ†æå®Œæˆ  
**é¢„æœŸå®¡æ ¸æ—¶é—´**: 1-2 ä¸ªå·¥ä½œæ—¥  
**ä¸‹ä¸€æ–‡æ¡£**: æ•°æ®åº“è¯»å–ä¼˜åŒ–å®æ–½æ–¹æ¡ˆ-ä¸­ç¯‡.md
