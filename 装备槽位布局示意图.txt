# 装备系统槽位布局示意图
# Equipment System Slot Layout Diagram

================================================================================
                        BlazorIdle 装备槽位布局
                    (17个槽位 - WoW风格)
================================================================================

                            ┌─────────┐
                            │  🪖头部  │  Head
                            │ (Head)  │
                            └─────────┘
                                 │
                   ┌─────────────┼─────────────┐
                   │                           │
              ┌─────────┐                 ┌─────────┐
              │  📿颈部  │                 │  🎽肩部  │  Shoulder
              │ (Neck)  │                 │(Shoulder)│
              └─────────┘                 └─────────┘
                   │                           │
                   │         ┌─────────┐       │
                   │         │  🧥背部  │       │  Back (Cloak)
                   │         │ (Back)  │       │
                   │         └─────────┘       │
                   │                           │
              ┌─────────┐  ┌─────────┐  ┌─────────┐
              │ ⚔️ 主手  │  │  🛡️胸部  │  │ 🔰副手  │
              │(MainHand)│  │ (Chest) │  │(OffHand)│
              └─────────┘  └─────────┘  └─────────┘
                                 │
                            ┌─────────┐
                            │  ⌚手腕  │  Wrist (Bracers)
                            │ (Wrist) │
                            └─────────┘
                                 │
              ┌─────────┐  ┌─────────┐  ┌─────────┐
              │  🧤手部  │  │  🎗️腰部  │  │  🦵腿部  │
              │ (Hands) │  │ (Waist) │  │ (Legs)  │
              └─────────┘  └─────────┘  └─────────┘
                                 │
                            ┌─────────┐
                            │  👢脚部  │  Feet
                            │ (Feet)  │
                            └─────────┘
                                 │
                   ┌─────────────┼─────────────┐
                   │                           │
              ┌─────────┐                 ┌─────────┐
              │ 💍戒指1  │                 │ 💍戒指2  │
              │(Finger1)│                 │(Finger2)│
              └─────────┘                 └─────────┘
                                 │
                   ┌─────────────┼─────────────┐
                   │                           │
              ┌─────────┐                 ┌─────────┐
              │ 🔮饰品1  │                 │ 🔮饰品2  │
              │(Trinket1)│                 │(Trinket2)│
              └─────────┘                 └─────────┘

================================================================================
                            槽位分类统计
================================================================================

【防具槽位】共10个:
  头部 (Head)、颈部 (Neck)、肩部 (Shoulder)、背部 (Back)
  胸部 (Chest)、手腕 (Wrist)、手部 (Hands)、腰部 (Waist)
  腿部 (Legs)、脚部 (Feet)

【饰品槽位】共4个:
  第一个戒指 (Finger1)、第二个戒指 (Finger2)
  第一个饰品 (Trinket1)、第二个饰品 (Trinket2)

【武器槽位】共3个（实际占用2个物理槽位）:
  主手武器 (MainHand)
  副手 (OffHand) - 可装备副手武器或盾牌
  双手武器 (TwoHand) - 占用主手+副手两个槽位

总计: 17个装备槽位

================================================================================
                            特殊机制说明
================================================================================

【双手武器机制】
  - 装备双手武器时，自动占用主手和副手两个槽位
  - 已装备双手武器时，无法装备副手物品
  - 卸下双手武器后，主手和副手槽位变为可用

【双持武器机制】
  - 某些职业（战士、游侠、盗贼）可在主手和副手各装备一把单手武器
  - 双持时攻击速度 = (主手速度 + 副手速度) / 2
  - 双持时总攻击力 = (主手攻击力 + 副手攻击力) × 0.85

【盾牌特性】
  - 盾牌只能装备在副手槽位
  - 装备盾牌时无法使用双手武器
  - 盾牌提供格挡概率和格挡减伤

================================================================================
                            护甲类型分布
================================================================================

【受护甲类型限制的槽位】(8个):
  头部、肩部、胸部、手腕、手部、腰部、腿部、脚部

【不受护甲类型限制的槽位】(9个):
  颈部、背部、戒指1、戒指2、饰品1、饰品2、主手、副手（武器/盾牌）、双手

护甲类型:
  - 无 (None): 适用于饰品、披风、颈部
  - 布甲 (Cloth): 法师、牧师
  - 皮甲 (Leather): 盗贼、德鲁伊
  - 锁甲 (Mail): 猎人、萨满
  - 板甲 (Plate): 战士、圣骑士

================================================================================
                            武器类型分布
================================================================================

【单手武器】(6种):
  剑 (Sword)、匕首 (Dagger)、斧 (Axe)、锤 (Mace)、拳套 (Fist)、魔杖 (Wand)
  - 可装备在主手或副手（如果职业支持双持）

【双手武器】(6种):
  双手剑 (TwoHandSword)、双手斧 (TwoHandAxe)、双手锤 (TwoHandMace)
  法杖 (Staff)、长柄武器 (Polearm)
  - 只能装备在主手，同时占用副手槽位

【远程武器】(3种):
  弓 (Bow)、弩 (Crossbow)、枪 (Gun)
  - 通常装备在主手或专用远程槽位（未来扩展）

【防御副手】(1种):
  盾牌 (Shield)
  - 只能装备在副手槽位
  - 提供格挡机制

================================================================================
                            数值参考
================================================================================

【攻击速度基准】
  标准单手剑: 2.5秒/次 (基准)
  快速武器 (匕首): 1.8秒/次
  慢速武器 (斧): 2.8秒/次
  双手武器 (双手剑): 3.5秒/次

【攻击倍率】
  单手剑: 1.00 (基准)
  匕首: 0.72
  双手剑: 1.75
  
【护甲系数】
  布甲: 0.5倍
  皮甲: 1.0倍
  锁甲: 1.5倍
  板甲: 2.0倍

【格挡机制】
  基础格挡率: 5% (装备盾牌时)
  格挡减伤: 30%
  最大格挡率: 50%

================================================================================
                            前端布局建议
================================================================================

【布局方案A - 纸娃娃式】
  中间显示角色形象（可选）
  装备槽位围绕角色排列
  左侧: 武器、戒指、饰品
  右侧: 颈部、背部、护甲部件

【布局方案B - 网格式】
  5列 × 4行网格
  顶行: 颈部、头部、肩部、背部
  第二行: 主手、胸部、副手
  第三行: 手腕、手部、腰部、腿部、脚部
  底行: 戒指1、饰品1、饰品2、戒指2

【布局方案C - 左右分栏】
  左栏 (9个): 所有防具槽位
  右栏 (8个): 武器、饰品、戒指

推荐使用【方案B - 网格式】，清晰直观，易于实现

================================================================================
                            实施优先级
================================================================================

Phase 1 (基础):
  ✅ 数据模型定义 (枚举、配置类)
  ✅ 配置文件加载
  ✅ 数据库扩展

Phase 2 (护甲):
  ✅ 护甲类型实现
  ✅ 护甲减伤计算
  ✅ 装备槽位扩展到17个

Phase 3 (武器):
  ✅ 武器类型实现
  ✅ 攻击速度机制
  ✅ 格挡机制
  ✅ 双持/双手武器逻辑

Phase 4 (限制):
  ✅ 职业装备限制
  ✅ 装备验证
  ✅ 数值平衡

Phase 5 (前端):
  ✅ UI重构
  ✅ 装备对比
  ✅ 全系统测试

================================================================================
                            设计文档索引
================================================================================

详细设计文档:
  📄 装备系统优化设计方案.md (中文完整版, 1280行)
  📄 EQUIPMENT_SYSTEM_DESIGN_SUMMARY.md (英文摘要, 418行)
  📄 装备槽位布局示意图.txt (本文件)

相关设计文档:
  📄 整合设计总结.txt (系统整体设计)
  📄 装备系统UI完成报告.md (当前UI实现)
  📄 战斗功能分析与下阶段规划.md (战斗系统规划)
  📄 前端UI优化设计方案.md (前端设计)

代码文件位置:
  📁 BlazorIdle.Server/Domain/Combat/Combatants/
  📁 BlazorIdle.Server/Domain/Characters/
  📁 BlazorIdle.Server/Api/EquipmentController.cs
  📁 BlazorIdle/Components/EquipmentPanel.razor
  📁 BlazorIdle/Services/ApiModels.cs

================================================================================
                            文档版本信息
================================================================================

版本: 1.0
创建日期: 2025-10-11
状态: 设计阶段完成
下一步: 等待团队评审，准备Phase 1实施

================================================================================
