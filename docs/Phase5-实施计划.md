# Phase 5 å®æ–½è®¡åˆ’ - æ—¥å¿—ç³»ç»Ÿè®¾è®¡

**é¡¹ç›®**: BlazorIdle  
**é˜¶æ®µ**: Phase 5 - æ—¥å¿—ç³»ç»Ÿè®¾è®¡  
**åˆ›å»ºæ—¥æœŸ**: 2025-10-15  
**çŠ¶æ€**: ğŸ”„ è¿›è¡Œä¸­

---

## ğŸ“‹ å®æ–½æ¦‚è¿°

æ ¹æ®ã€ŠæœåŠ¡ç«¯ä»£ç ä¼˜åŒ–æ–¹æ¡ˆ.mdã€‹å’Œã€Šæ—¥å¿—è§„èŒƒæ–‡æ¡£.mdã€‹ï¼ŒPhase 5 å°†å¢å¼ºæ ¸å¿ƒä¸šåŠ¡æµç¨‹çš„æ—¥å¿—è¦†ç›–ï¼Œå®ç°ç»“æ„åŒ–æ—¥å¿—ï¼Œæå‡ç³»ç»Ÿå¯è§‚æµ‹æ€§ã€‚

---

## ğŸ¯ ç›®æ ‡

### é‡åŒ–ç›®æ ‡

| æŒ‡æ ‡ | å½“å‰çŠ¶æ€ | ç›®æ ‡çŠ¶æ€ | è¯´æ˜ |
|------|---------|---------|------|
| æ—¥å¿—æ€»æ•° | 96 | â‰¥150 | å¢åŠ çº¦55+æ—¥å¿—ç‚¹ |
| Information | 35 | â‰¥50 | å…³é”®ä¸šåŠ¡èŠ‚ç‚¹ |
| Warning | 22 | â‰¥25 | å¼‚å¸¸æƒ…å†µ |
| Error | 15 | â‰¥30 | é”™è¯¯å¤„ç† |
| Debug | 23 | â‰¥40 | è°ƒè¯•ä¿¡æ¯ |
| æ—¥å¿—è¦†ç›–ç‡ | ~60% | 90%+ | æ ¸å¿ƒæµç¨‹è¦†ç›– |

### è´¨é‡ç›®æ ‡

1. âœ… æ‰€æœ‰æ—¥å¿—ä½¿ç”¨ç»“æ„åŒ–æ ¼å¼
2. âœ… å…³é”®ä¸šåŠ¡æµç¨‹æœ‰å®Œæ•´æ—¥å¿—é“¾
3. âœ… æ—¥å¿—ä¿¡æ¯åŒ…å«è¶³å¤Ÿä¸Šä¸‹æ–‡
4. âœ… æ—¥å¿—çº§åˆ«ä½¿ç”¨æ°å½“
5. âœ… éµå¾ªã€Šæ—¥å¿—è§„èŒƒæ–‡æ¡£.mdã€‹

---

## ğŸ“Š å½“å‰æ—¥å¿—çŠ¶æ€åˆ†æ

### å·²æœ‰æ—¥å¿—åˆ†å¸ƒ

```
Information: 35
Warning: 22  
Error: 15
Debug: 23
Total: 96 (åŒ…å«å…¶ä»–çº§åˆ«)
```

### å·²æœ‰æ—¥å¿—çš„ç³»ç»Ÿ

æ ¹æ®ä»£ç æ‰«æï¼Œä»¥ä¸‹ç³»ç»Ÿå·²æœ‰éƒ¨åˆ†æ—¥å¿—ï¼š
1. âœ… RewardGrantService - 4å¤„æ—¥å¿—
2. âœ… éƒ¨åˆ† Controllers - API å…¥å£æ—¥å¿—
3. âœ… éƒ¨åˆ† Services - åŸºæœ¬é”™è¯¯æ—¥å¿—

### ç¼ºå¤±æ—¥å¿—çš„å…³é”®ç³»ç»Ÿ

1. âŒ **BattleEngine** - æ ¸å¿ƒæˆ˜æ–—å¼•æ“ï¼Œæ— æ—¥å¿—
2. âŒ **æˆ˜æ–—ç³»ç»Ÿ** - æˆ˜æ–—å¼€å§‹/ç»“æŸã€æ³¢æ¬¡åˆ‡æ¢æ— æ—¥å¿—
3. âŒ **è£…å¤‡ç³»ç»Ÿ** - è£…å¤‡æ“ä½œæ— å®Œæ•´æ—¥å¿—
4. âŒ **æ´»åŠ¨è®¡åˆ’** - è®¡åˆ’æ‰§è¡Œæ— æ—¥å¿—
5. âŒ **ç¦»çº¿ç»“ç®—** - ç¦»çº¿å¤„ç†æ— æ—¥å¿—

---

## ğŸš€ å®æ–½è®¡åˆ’

### ç¬¬ä¸€æ‰¹ï¼šæ ¸å¿ƒæˆ˜æ–—ç³»ç»Ÿï¼ˆä¼˜å…ˆçº§ P0ï¼‰

#### 1.1 BattleEngine å¢å¼º

**æ–‡ä»¶**: `BlazorIdle.Server/Domain/Combat/Engine/BattleEngine.cs`

**éœ€è¦æ·»åŠ çš„æ—¥å¿—ç‚¹**:

1. **æˆ˜æ–—å¼€å§‹**ï¼ˆInformationï¼‰
```csharp
_logger.LogInformation(
    "æˆ˜æ–—å¼€å§‹ï¼ŒBattleId={BattleId}, CharacterId={CharacterId}, EnemyId={EnemyId}, Mode={Mode}",
    battleId,
    characterId,
    enemyId,
    mode
);
```

2. **æˆ˜æ–—ç»“æŸ**ï¼ˆInformationï¼‰
```csharp
_logger.LogInformation(
    "æˆ˜æ–—ç»“æŸï¼ŒBattleId={BattleId}, Result={Result}, Duration={DurationSeconds}s, EventCount={EventCount}, Victory={Victory}",
    battleId,
    result,
    duration,
    eventCount,
    victory
);
```

3. **æ³¢æ¬¡åˆ‡æ¢**ï¼ˆInformationï¼‰
```csharp
_logger.LogInformation(
    "æ³¢æ¬¡åˆ‡æ¢ï¼ŒBattleId={BattleId}, FromWave={FromWave}, ToWave={ToWave}, NextEnemy={NextEnemy}",
    battleId,
    fromWave,
    toWave,
    nextEnemy
);
```

4. **è§’è‰²æ­»äº¡**ï¼ˆInformationï¼‰
```csharp
_logger.LogInformation(
    "è§’è‰²æ­»äº¡ï¼ŒBattleId={BattleId}, CharacterId={CharacterId}, Time={Time}s, Reason={Reason}",
    battleId,
    characterId,
    time,
    reason
);
```

5. **æŠ€èƒ½æ£€æŸ¥å¾ªç¯**ï¼ˆDebugï¼‰
```csharp
_logger.LogDebug(
    "æŠ€èƒ½æ£€æŸ¥ï¼ŒBattleId={BattleId}, Time={Time}s, ReadySkills={ReadySkills}",
    battleId,
    time,
    readySkills
);
```

#### 1.2 StartBattleService å¢å¼º

**æ–‡ä»¶**: `BlazorIdle.Server/Application/Battles/StartBattleService.cs`

**éœ€è¦æ·»åŠ çš„æ—¥å¿—ç‚¹**:

1. **æœåŠ¡å…¥å£**ï¼ˆInformationï¼‰
2. **æˆ˜æ–—é…ç½®åŠ è½½**ï¼ˆDebugï¼‰
3. **æˆ˜æ–—åˆå§‹åŒ–**ï¼ˆDebugï¼‰
4. **é”™è¯¯å¤„ç†**ï¼ˆErrorï¼‰

#### 1.3 å…¶ä»–æˆ˜æ–—ç›¸å…³æœåŠ¡

- StepBattleService
- OfflineBattleService
- BattleSimulationService

**é¢„è®¡æ–°å¢æ—¥å¿—**: 20-25å¤„

---

### ç¬¬äºŒæ‰¹ï¼šç»æµç³»ç»Ÿï¼ˆä¼˜å…ˆçº§ P0ï¼‰

#### 2.1 RewardGrantService å¢å¼º

**æ–‡ä»¶**: `BlazorIdle.Server/Application/Economy/RewardGrantService.cs`

**å½“å‰çŠ¶æ€**: å·²æœ‰4å¤„æ—¥å¿—ï¼Œéœ€è¦å¢å¼º

**éœ€è¦æ·»åŠ çš„æ—¥å¿—ç‚¹**:

1. **å¥–åŠ±å‘æ”¾è¯¦æƒ…**ï¼ˆInformationï¼‰
```csharp
_logger.LogInformation(
    "å¥–åŠ±å‘æ”¾ï¼ŒCharacterId={CharacterId}, Source={Source}, Gold={Gold}, Exp={Exp}, Items={ItemCount}",
    characterId,
    source,
    gold,
    exp,
    itemCount
);
```

2. **é‡‘å¸å˜æ›´**ï¼ˆInformationï¼‰
```csharp
_logger.LogInformation(
    "é‡‘å¸å˜æ›´ï¼ŒCharacterId={CharacterId}, Delta={Delta}, Source={Source}, OldBalance={OldBalance}, NewBalance={NewBalance}",
    characterId,
    delta,
    source,
    oldBalance,
    newBalance
);
```

3. **ç»éªŒå˜æ›´**ï¼ˆInformationï¼‰
```csharp
_logger.LogInformation(
    "ç»éªŒå˜æ›´ï¼ŒCharacterId={CharacterId}, Delta={Delta}, Source={Source}, Level={Level}, LevelUp={LevelUp}",
    characterId,
    delta,
    source,
    level,
    levelUp
);
```

#### 2.2 EconomyCalculator å¢å¼º

**æ–‡ä»¶**: `BlazorIdle.Server/Domain/Combat/Economy/EconomyCalculator.cs`

**éœ€è¦æ·»åŠ çš„æ—¥å¿—ç‚¹**:

1. **å¥–åŠ±è®¡ç®—**ï¼ˆDebugï¼‰
2. **æ‰è½è®¡ç®—**ï¼ˆDebugï¼‰
3. **ç»éªŒè®¡ç®—**ï¼ˆDebugï¼‰

**é¢„è®¡æ–°å¢æ—¥å¿—**: 10-15å¤„

---

### ç¬¬ä¸‰æ‰¹ï¼šè£…å¤‡ç³»ç»Ÿï¼ˆä¼˜å…ˆçº§ P1ï¼‰

#### 3.1 EquipmentService å¢å¼º

**æ–‡ä»¶**: `BlazorIdle.Server/Application/Equipment/*Service.cs`

**éœ€è¦æ·»åŠ çš„æ—¥å¿—ç‚¹**:

1. **è£…å¤‡ç©¿æˆ´/å¸ä¸‹**ï¼ˆInformationï¼‰
```csharp
_logger.LogInformation(
    "è£…å¤‡ç©¿æˆ´ï¼ŒCharacterId={CharacterId}, GearId={GearId}, Slot={Slot}, Tier={Tier}",
    characterId,
    gearId,
    slot,
    tier
);
```

2. **è£…å¤‡åˆ†è§£**ï¼ˆInformationï¼‰
```csharp
_logger.LogInformation(
    "è£…å¤‡åˆ†è§£ï¼ŒCharacterId={CharacterId}, GearId={GearId}, Tier={Tier}, Materials={Materials}",
    characterId,
    gearId,
    tier,
    materials
);
```

3. **è£…å¤‡é‡é“¸**ï¼ˆInformationï¼‰
```csharp
_logger.LogInformation(
    "è£…å¤‡é‡é“¸ï¼ŒCharacterId={CharacterId}, GearId={GearId}, Result={Result}, FromTier={FromTier}, ToTier={ToTier}",
    characterId,
    gearId,
    result,
    fromTier,
    toTier
);
```

**é¢„è®¡æ–°å¢æ—¥å¿—**: 15-20å¤„

---

### ç¬¬å››æ‰¹ï¼šæ´»åŠ¨è®¡åˆ’ç³»ç»Ÿï¼ˆä¼˜å…ˆçº§ P1ï¼‰

#### 4.1 ActivityPlansController å¢å¼º

**æ–‡ä»¶**: `BlazorIdle.Server/Api/ActivityPlansController.cs`

**éœ€è¦æ·»åŠ çš„æ—¥å¿—ç‚¹**:

1. **è®¡åˆ’åˆ›å»º**ï¼ˆInformationï¼‰
2. **è®¡åˆ’æ›´æ–°**ï¼ˆInformationï¼‰
3. **è®¡åˆ’åˆ é™¤**ï¼ˆInformationï¼‰
4. **è®¡åˆ’æ‰§è¡Œ**ï¼ˆInformationï¼‰

#### 4.2 OfflineController å¢å¼º

**æ–‡ä»¶**: `BlazorIdle.Server/Api/OfflineController.cs`

**éœ€è¦æ·»åŠ çš„æ—¥å¿—ç‚¹**:

1. **ç¦»çº¿ç»“ç®—å¼€å§‹**ï¼ˆInformationï¼‰
```csharp
_logger.LogInformation(
    "ç¦»çº¿ç»“ç®—å¼€å§‹ï¼ŒCharacterId={CharacterId}, OfflineDuration={Duration}s, LastCheckIn={LastCheckIn}",
    characterId,
    duration,
    lastCheckIn
);
```

2. **ç¦»çº¿ç»“ç®—å®Œæˆ**ï¼ˆInformationï¼‰
```csharp
_logger.LogInformation(
    "ç¦»çº¿ç»“ç®—å®Œæˆï¼ŒCharacterId={CharacterId}, Duration={ProcessDuration}ms, PlansCompleted={PlansCompleted}, RewardsGranted={RewardsGranted}",
    characterId,
    processDuration,
    plansCompleted,
    rewardsGranted
);
```

**é¢„è®¡æ–°å¢æ—¥å¿—**: 10-15å¤„

---

## ğŸ“ å®æ–½æ­¥éª¤

### Step 1: å‡†å¤‡å·¥ä½œï¼ˆå·²å®Œæˆï¼‰

- [x] åˆ›å»ºã€Šæ—¥å¿—è§„èŒƒæ–‡æ¡£.mdã€‹
- [x] åˆ†æå½“å‰æ—¥å¿—çŠ¶æ€
- [x] åˆ¶å®šå®æ–½è®¡åˆ’
- [x] ç¡®å®šä¼˜å…ˆçº§

### Step 2: ç¬¬ä¸€æ‰¹å®æ–½ï¼ˆæˆ˜æ–—ç³»ç»Ÿï¼‰

**æ—¶é—´**: 0.5-1å¤©

1. **BattleEngine å¢å¼º**
   - [ ] æ³¨å…¥ ILogger
   - [ ] æ·»åŠ æˆ˜æ–—å¼€å§‹/ç»“æŸæ—¥å¿—
   - [ ] æ·»åŠ æ³¢æ¬¡åˆ‡æ¢æ—¥å¿—
   - [ ] æ·»åŠ è§’è‰²æ­»äº¡æ—¥å¿—
   - [ ] æ·»åŠ æŠ€èƒ½æ£€æŸ¥æ—¥å¿—ï¼ˆDebugï¼‰

2. **StartBattleService å¢å¼º**
   - [ ] æ·»åŠ æœåŠ¡å…¥å£æ—¥å¿—
   - [ ] æ·»åŠ é…ç½®åŠ è½½æ—¥å¿—
   - [ ] æ·»åŠ é”™è¯¯å¤„ç†æ—¥å¿—

3. **æµ‹è¯•éªŒè¯**
   - [ ] å¯åŠ¨æˆ˜æ–—ï¼ŒéªŒè¯æ—¥å¿—è¾“å‡º
   - [ ] æ£€æŸ¥æ—¥å¿—æ ¼å¼å’Œå†…å®¹
   - [ ] éªŒè¯æ—¥å¿—çº§åˆ«ä½¿ç”¨

### Step 3: ç¬¬äºŒæ‰¹å®æ–½ï¼ˆç»æµç³»ç»Ÿï¼‰

**æ—¶é—´**: 0.5å¤©

1. **RewardGrantService å¢å¼º**
   - [ ] å¢å¼ºç°æœ‰æ—¥å¿—
   - [ ] æ·»åŠ é‡‘å¸/ç»éªŒå˜æ›´æ—¥å¿—
   - [ ] æ·»åŠ ç‰©å“å¥–åŠ±æ—¥å¿—

2. **EconomyCalculator å¢å¼º**
   - [ ] æ·»åŠ è®¡ç®—æ—¥å¿—ï¼ˆDebugï¼‰

3. **æµ‹è¯•éªŒè¯**
   - [ ] å®Œæˆæˆ˜æ–—ï¼ŒéªŒè¯å¥–åŠ±æ—¥å¿—
   - [ ] æ£€æŸ¥ç»æµæµæ°´æ—¥å¿—

### Step 4: ç¬¬ä¸‰æ‰¹å®æ–½ï¼ˆè£…å¤‡ç³»ç»Ÿï¼‰

**æ—¶é—´**: 0.5å¤©

1. **EquipmentService å¢å¼º**
   - [ ] æ·»åŠ ç©¿æˆ´/å¸ä¸‹æ—¥å¿—
   - [ ] æ·»åŠ åˆ†è§£æ—¥å¿—
   - [ ] æ·»åŠ é‡é“¸æ—¥å¿—

2. **æµ‹è¯•éªŒè¯**
   - [ ] æ‰§è¡Œè£…å¤‡æ“ä½œ
   - [ ] éªŒè¯æ—¥å¿—è¾“å‡º

### Step 5: ç¬¬å››æ‰¹å®æ–½ï¼ˆæ´»åŠ¨è®¡åˆ’ï¼‰

**æ—¶é—´**: 0.5å¤©

1. **æ´»åŠ¨è®¡åˆ’ Controllers å¢å¼º**
   - [ ] æ·»åŠ è®¡åˆ’ç®¡ç†æ—¥å¿—
   - [ ] æ·»åŠ ç¦»çº¿ç»“ç®—æ—¥å¿—

2. **æµ‹è¯•éªŒè¯**
   - [ ] åˆ›å»º/æ›´æ–°è®¡åˆ’
   - [ ] æ‰§è¡Œç¦»çº¿ç»“ç®—
   - [ ] éªŒè¯æ—¥å¿—è¾“å‡º

### Step 6: APIå±‚æ—¥å¿—å¢å¼ºï¼ˆå¯é€‰ï¼‰

**æ—¶é—´**: 0.5å¤©

1. **åˆ›å»ºæ—¥å¿—ä¸­é—´ä»¶**
   - [ ] è®°å½•è¯·æ±‚å…¥å£
   - [ ] è®°å½•å“åº”æ—¶é—´
   - [ ] è®°å½•é”™è¯¯

2. **æµ‹è¯•éªŒè¯**
   - [ ] APIè°ƒç”¨æµ‹è¯•
   - [ ] æ€§èƒ½å½±å“æµ‹è¯•

### Step 7: å…¨é¢æµ‹è¯•ä¸éªŒè¯

**æ—¶é—´**: 0.5å¤©

1. **æ—¥å¿—ç»Ÿè®¡**
   - [ ] ç»Ÿè®¡æ–°å¢æ—¥å¿—æ•°é‡
   - [ ] éªŒè¯è¾¾æ ‡æƒ…å†µ

2. **æ—¥å¿—è´¨é‡æ£€æŸ¥**
   - [ ] ç»“æ„åŒ–æ ¼å¼æ£€æŸ¥
   - [ ] ä¸Šä¸‹æ–‡ä¿¡æ¯æ£€æŸ¥
   - [ ] æ—¥å¿—çº§åˆ«æ£€æŸ¥

3. **æ€§èƒ½æµ‹è¯•**
   - [ ] æ—¥å¿—å¯¹æ€§èƒ½çš„å½±å“
   - [ ] æ—¥å¿—æ–‡ä»¶å¤§å°æ§åˆ¶

4. **ç”Ÿæˆå®æ–½æ€»ç»“**
   - [ ] åˆ›å»º Phase5-å®æ–½æ€»ç»“.md

---

## ğŸ§ª æµ‹è¯•è®¡åˆ’

### åŠŸèƒ½æµ‹è¯•

1. **æˆ˜æ–—ç³»ç»Ÿæ—¥å¿—**
   - å¯åŠ¨æˆ˜æ–— â†’ éªŒè¯æˆ˜æ–—å¼€å§‹æ—¥å¿—
   - å®Œæˆæˆ˜æ–— â†’ éªŒè¯æˆ˜æ–—ç»“æŸæ—¥å¿—
   - æ³¢æ¬¡åˆ‡æ¢ â†’ éªŒè¯æ³¢æ¬¡æ—¥å¿—
   - è§’è‰²æ­»äº¡ â†’ éªŒè¯æ­»äº¡æ—¥å¿—

2. **ç»æµç³»ç»Ÿæ—¥å¿—**
   - å®Œæˆæˆ˜æ–— â†’ éªŒè¯å¥–åŠ±æ—¥å¿—
   - é‡‘å¸å˜æ›´ â†’ éªŒè¯é‡‘å¸æ—¥å¿—
   - ç»éªŒå¢é•¿ â†’ éªŒè¯ç»éªŒæ—¥å¿—

3. **è£…å¤‡ç³»ç»Ÿæ—¥å¿—**
   - ç©¿æˆ´è£…å¤‡ â†’ éªŒè¯ç©¿æˆ´æ—¥å¿—
   - åˆ†è§£è£…å¤‡ â†’ éªŒè¯åˆ†è§£æ—¥å¿—
   - é‡é“¸è£…å¤‡ â†’ éªŒè¯é‡é“¸æ—¥å¿—

4. **æ´»åŠ¨è®¡åˆ’æ—¥å¿—**
   - åˆ›å»ºè®¡åˆ’ â†’ éªŒè¯åˆ›å»ºæ—¥å¿—
   - ç¦»çº¿ç»“ç®— â†’ éªŒè¯ç»“ç®—æ—¥å¿—

### æ€§èƒ½æµ‹è¯•

1. **æ—¥å¿—æ€§èƒ½å½±å“**
   - å¯¹æ¯”æ·»åŠ æ—¥å¿—å‰åçš„æ€§èƒ½
   - ç›®æ ‡ï¼šæ€§èƒ½å½±å“ < 5%

2. **æ—¥å¿—æ–‡ä»¶å¤§å°**
   - ç›‘æ§æ—¥å¿—æ–‡ä»¶å¢é•¿é€Ÿåº¦
   - éªŒè¯æ—¥å¿—è½®è½¬é…ç½®

### è´¨é‡æ£€æŸ¥

1. **ç»“æ„åŒ–æ—¥å¿—æ£€æŸ¥**
   - æ‰€æœ‰æ–°å¢æ—¥å¿—ä½¿ç”¨ç»“æ„åŒ–æ ¼å¼
   - å‚æ•°å‘½åç¬¦åˆè§„èŒƒ

2. **æ—¥å¿—çº§åˆ«æ£€æŸ¥**
   - Information ç”¨äºå…³é”®èŠ‚ç‚¹
   - Debug ç”¨äºè°ƒè¯•ä¿¡æ¯
   - Error ç”¨äºé”™è¯¯å¤„ç†

3. **ä¸Šä¸‹æ–‡ä¿¡æ¯æ£€æŸ¥**
   - æ—¥å¿—åŒ…å«è¶³å¤Ÿçš„ä¸Šä¸‹æ–‡
   - ä¾¿äºé—®é¢˜æ’æŸ¥

---

## ğŸ“Š é¢„æœŸæˆæœ

### é‡åŒ–æˆæœ

| æŒ‡æ ‡ | å®æ–½å‰ | å®æ–½å | å¢é•¿ |
|------|--------|--------|------|
| æ—¥å¿—æ€»æ•° | 96 | ~160 | +64 (+67%) |
| Information | 35 | ~60 | +25 (+71%) |
| Warning | 22 | ~25 | +3 (+14%) |
| Error | 15 | ~35 | +20 (+133%) |
| Debug | 23 | ~45 | +22 (+96%) |

### è´¨é‡æˆæœ

1. âœ… **å®Œæ•´çš„æ—¥å¿—é“¾**
   - æˆ˜æ–—ç³»ç»Ÿï¼šä»å¼€å§‹åˆ°ç»“æŸçš„å®Œæ•´æ—¥å¿—
   - ç»æµç³»ç»Ÿï¼šå¥–åŠ±å‘æ”¾çš„å®Œæ•´æµç¨‹
   - è£…å¤‡ç³»ç»Ÿï¼šè£…å¤‡æ“ä½œçš„å®Œæ•´è®°å½•

2. âœ… **ç»“æ„åŒ–æ—¥å¿—**
   - æ‰€æœ‰æ–°å¢æ—¥å¿—ä½¿ç”¨ç»“æ„åŒ–æ ¼å¼
   - ä¾¿äºæŸ¥è¯¢å’Œåˆ†æ

3. âœ… **åˆé€‚çš„æ—¥å¿—çº§åˆ«**
   - Informationï¼šå…³é”®ä¸šåŠ¡èŠ‚ç‚¹
   - Debugï¼šå¼€å‘è°ƒè¯•ä¿¡æ¯
   - Errorï¼šé”™è¯¯å’Œå¼‚å¸¸

4. âœ… **ä¸°å¯Œçš„ä¸Šä¸‹æ–‡**
   - åŒ…å«å…³é”®IDï¼ˆBattleId, CharacterIdç­‰ï¼‰
   - åŒ…å«å…³é”®å‚æ•°å’Œç»“æœ
   - åŒ…å«æ—¶é—´å’Œæ€§èƒ½ä¿¡æ¯

---

## ğŸ¯ éªŒæ”¶æ ‡å‡†

### å¿…è¾¾æ ‡å‡†ï¼ˆP0ï¼‰

- [ ] æ—¥å¿—æ€»æ•° â‰¥ 150
- [ ] Information æ—¥å¿— â‰¥ 50
- [ ] Error æ—¥å¿— â‰¥ 30
- [ ] æ‰€æœ‰æ–°å¢æ—¥å¿—ä½¿ç”¨ç»“æ„åŒ–æ ¼å¼
- [ ] æ ¸å¿ƒä¸šåŠ¡æµç¨‹æœ‰å®Œæ•´æ—¥å¿—é“¾
- [ ] æ‰€æœ‰æµ‹è¯•é€šè¿‡
- [ ] æ€§èƒ½å½±å“ < 5%

### é‡è¦æ ‡å‡†ï¼ˆP1ï¼‰

- [ ] Debug æ—¥å¿— â‰¥ 40
- [ ] Warning æ—¥å¿— â‰¥ 25
- [ ] æ—¥å¿—æ–‡æ¡£å®Œå–„
- [ ] æ—¥å¿—æŸ¥è¯¢æŒ‡å—

### å¯é€‰æ ‡å‡†ï¼ˆP2ï¼‰

- [ ] æ—¥å¿—åˆ†æå·¥å…·
- [ ] æ—¥å¿—å¯è§†åŒ–
- [ ] æ—¥å¿—å‘Šè­¦è§„åˆ™

---

## ğŸ“‹ äº¤ä»˜æ¸…å•

### ä»£ç äº¤ä»˜

- [ ] å¢å¼ºçš„æºæ–‡ä»¶ï¼ˆçº¦15-20ä¸ªæ–‡ä»¶ï¼‰
- [ ] æ–°å¢çš„æ—¥å¿—ä¸­é—´ä»¶ï¼ˆå¯é€‰ï¼‰
- [ ] å•å…ƒæµ‹è¯•æ›´æ–°

### æ–‡æ¡£äº¤ä»˜

- [ ] æ—¥å¿—è§„èŒƒæ–‡æ¡£ï¼ˆå·²å®Œæˆï¼‰âœ…
- [ ] Phase5å®æ–½è®¡åˆ’ï¼ˆæœ¬æ–‡æ¡£ï¼‰âœ…
- [ ] Phase5å®æ–½æ€»ç»“
- [ ] æ—¥å¿—æŸ¥è¯¢æŒ‡å—

### é…ç½®äº¤ä»˜

- [ ] appsettings.json æ›´æ–°
- [ ] Serilog é…ç½®ï¼ˆå¯é€‰ï¼‰

---

## ğŸ“ æ³¨æ„äº‹é¡¹

### æ€§èƒ½è€ƒè™‘

1. **é¿å…é«˜é¢‘æ—¥å¿—**
   - ä¸åœ¨å¾ªç¯å†…ä½¿ç”¨ Information æ—¥å¿—
   - å¤§é‡æ•°æ®ä½¿ç”¨ Debug/Trace

2. **ä½¿ç”¨æ—¥å¿—ä½œç”¨åŸŸ**
   - é¿å…é‡å¤è®°å½•ä¸Šä¸‹æ–‡ä¿¡æ¯

3. **æ¡ä»¶æ—¥å¿—**
   - å¤æ‚å¯¹è±¡åºåˆ—åŒ–è€ƒè™‘æ€§èƒ½

### å®‰å…¨è€ƒè™‘

1. **ä¸è®°å½•æ•æ„Ÿä¿¡æ¯**
   - å¯†ç ã€Token ç­‰
   - å®Œæ•´çš„ç”¨æˆ·æ•°æ®

2. **æ—¥å¿—è®¿é—®æ§åˆ¶**
   - ç”Ÿäº§ç¯å¢ƒæ—¥å¿—è®¿é—®æƒé™

### ç»´æŠ¤è€ƒè™‘

1. **æ—¥å¿—æ–‡ä»¶ç®¡ç†**
   - é…ç½®æ—¥å¿—è½®è½¬
   - è®¾ç½®ä¿ç•™æœŸé™

2. **æ—¥å¿—ç›‘æ§**
   - é”™è¯¯ç‡ç›‘æ§
   - æ—¥å¿—é‡ç›‘æ§

---

**Phase 5 çŠ¶æ€**: ğŸ”„ **è¿›è¡Œä¸­**  
**æ–‡æ¡£ç‰ˆæœ¬**: 1.0  
**åˆ›å»ºæ—¥æœŸ**: 2025-10-15  
**é¢„è®¡å®Œæˆ**: 2-3å¤©
