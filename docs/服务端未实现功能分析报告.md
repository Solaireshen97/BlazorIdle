# 服务端未实现功能分析报告

**项目**: BlazorIdle  
**文档版本**: 1.0  
**创建日期**: 2025-10-15  
**状态**: 需求分析完成  
**负责人**: 开发团队

---

## 📋 目录

1. [执行摘要](#执行摘要)
2. [已实现系统回顾](#已实现系统回顾)
3. [未实现功能详细分析](#未实现功能详细分析)
4. [功能优先级划分](#功能优先级划分)
5. [技术依赖关系](#技术依赖关系)
6. [资源估算](#资源估算)

---

## 执行摘要

### 项目概况

**代码规模统计**:
- 代码文件数: 280+ 个 C# 文件
- 代码总量: 约 45,876 行
- API 控制器: 13 个
- 领域模块: 7 个主要领域

**已完成核心系统** (✅):
1. 战斗系统 - 事件调度、双轨机制、伤害计算
2. 装备系统 - 装备生成、分解、重铸
3. 活动计划系统 - 多槽位、活动调度
4. 离线结算系统 - 离线快进引擎
5. 商店系统 - 商店配置、购买机制
6. SignalR 实时通信 - 实时战斗推送
7. 用户认证系统 - JWT 认证授权

### 核心发现

根据《整合设计总结.txt》对比当前实现，**未实现功能占比约 45-50%**：

**完全未实现的核心模块** (13个):
1. 条件/解锁 DSL 引擎
2. 地图/区域系统
3. 任务系统
4. 声望系统
5. 多角色 Roster 系统
6. 组队/副本持续挂机
7. 消耗品自动使用
8. 配置版本化与热更新
9. 经济监控与指标收集
10. 调试面板
11. RNG 可回放机制
12. 职业转职系统
13. 赛季/公会等社交系统

**部分实现需要完善的模块** (8个):
1. ResourceBucket 资源溢出机制 (基础实现存在)
2. Buff 运行时实例管理 (基础存在，缺少层数和转换)
3. CombatSegment 聚合 (基础存在，缺少详细统计)
4. 装备词条系统 (基础存在，缺少高级词条)
5. 技能自动施放优先级 (基础存在，缺少高级策略)
6. 事件溯源与快照策略 (部分实现)
7. 离线副本持续挂机 (基础存在，缺少持续机制)
8. 监控埋点 (部分实现，覆盖不全)

---

## 已实现系统回顾

### 2.1 战斗系统 (Combat System) - 完成度: 75%

#### ✅ 已实现功能
```
Domain/Combat/
├── Engine/
│   ├── BattleEngine.cs          ✅ 核心战斗引擎
│   └── BattleMeta.cs            ✅ 战斗元数据
├── EventScheduler.cs             ✅ 事件调度器
├── GameClock.cs                  ✅ 游戏时钟
├── TrackState.cs                 ✅ 双轨状态 (Attack/Special)
├── AttackTickEvent.cs            ✅ 攻击事件
├── SpecialPulseEvent.cs          ✅ 特殊脉冲事件
├── Skills/
│   ├── AutoCastEngine.cs        ✅ 自动施放引擎
│   └── SkillSlot.cs             ✅ 技能槽位
├── Buffs/
│   └── BuffInstance.cs          ✅ Buff 实例
├── Resources/
│   └── ResourceBucket.cs        ✅ 资源桶
├── Damage/
│   ├── DamageCalculator.cs      ✅ 伤害计算
│   └── DamageEvent.cs           ✅ 伤害事件
├── Professions/
│   └── ProfessionModifiers.cs   ✅ 职业修饰器
└── SegmentCollector.cs           ✅ 片段收集器
```

**关键成就**:
- ✅ 事件时间跳跃机制完整实现
- ✅ 双轨战斗节奏 (AttackTrack + SpecialTrack)
- ✅ 优先队列事件调度
- ✅ 基础技能自动施放
- ✅ 离线战斗快进引擎

#### ⚠️ 需要完善的部分
1. **ResourceBucket 溢出策略**
   - 当前: 仅支持 Clamp（上限截断）
   - 缺失: Convert 转换策略（溢出转为 Buff）
   - 影响: 无法实现"怒气溢出转战意层数"等机制

2. **CombatSegment 聚合统计**
   - 当前: 基础事件聚合
   - 缺失: 详细的伤害来源、资源流动、Buff 时长统计
   - 影响: 离线登录时无法快速展示战斗摘要

3. **Buff 层数与动态效果**
   - 当前: 基础 Buff 应用
   - 缺失: 层数叠加、层数消耗、动态属性修改
   - 影响: 无法实现"冰冷血脉 10 层"等机制

### 2.2 装备系统 (Equipment System) - 完成度: 80%

#### ✅ 已实现功能
```
Domain/Equipment/
├── Services/
│   ├── EquipmentService.cs      ✅ 装备服务
│   ├── GearGenerationService.cs ✅ 装备生成服务
│   ├── DisenchantService.cs     ✅ 分解服务
│   ├── ReforgeService.cs        ✅ 重铸服务
│   └── StatsAggregationService.cs ✅ 属性聚合
├── Models/
│   ├── GearInstance.cs          ✅ 装备实例
│   ├── GearDefinition.cs        ✅ 装备定义
│   └── Affix.cs                 ✅ 词条系统
└── Configuration/
    └── EquipmentSystemConfig.cs ✅ 装备配置
```

**关键成就**:
- ✅ 装备生成与词条系统
- ✅ 装备分解返还材料
- ✅ 品级重铸 (Tier 提升)
- ✅ 双持武器支持
- ✅ 套装系统基础

#### ⚠️ 需要完善的部分
1. **装备词条重置 (Reroll)**
   - 当前: 无实现
   - 需要: 重新生成词条，成本递增，保底机制
   - 优先级: P1

2. **装备技能特效**
   - 当前: 无实现
   - 需要: OnHit/OnCast 钩子触发特殊效果
   - 优先级: P2

3. **品级精炼**
   - 当前: 仅支持 Tier 提升
   - 需要: 精炼指定词条数值
   - 优先级: P2

### 2.3 活动计划系统 (Activity Plans) - 完成度: 70%

#### ✅ 已实现功能
```
Domain/Activities/
├── ActivityPlan.cs              ✅ 活动计划
├── ActivityState.cs             ✅ 活动状态
├── ActivityType.cs              ✅ 活动类型
├── CombatActivityPayload.cs     ✅ 战斗活动载荷
└── DungeonActivityPayload.cs    ✅ 副本活动载荷

Application/Activities/
└── ActivityPlanService.cs       ✅ 活动计划服务
```

**关键成就**:
- ✅ 多槽位活动计划
- ✅ 活动状态机 (Pending/Running/Completed)
- ✅ 限制类型 (Count/Duration/Infinite)
- ✅ 自动衔接下一个活动

#### ⚠️ 需要完善的部分
1. **活动互斥标签**
   - 当前: 无实现
   - 需要: exclusionTags 避免多个战斗类活动并发
   - 优先级: P1

2. **采集活动 (Gathering)**
   - 当前: 仅战斗和副本
   - 需要: 采集资源活动类型
   - 优先级: P2

3. **制作活动 (Crafting)**
   - 当前: 无实现
   - 需要: 制作装备/消耗品活动
   - 优先级: P2

### 2.4 离线结算系统 (Offline Settlement) - 完成度: 85%

#### ✅ 已实现功能
```
Application/Battles/Offline/
└── OfflineFastForwardEngine.cs  ✅ 离线快进引擎

Controllers/
└── OfflineController.cs         ✅ 离线结算 API
```

**关键成就**:
- ✅ 离线时间计算（最大 12 小时）
- ✅ 快进模拟引擎
- ✅ 奖励自动应用
- ✅ 离线检测服务

#### ⚠️ 需要完善的部分
1. **离线副本持续挂机**
   - 当前: 离线后副本暂停
   - 需要: 副本全员离线时持续模拟
   - 优先级: P1

2. **产出递减机制**
   - 当前: 无实现
   - 需要: 长时间挂机时掉落系数递减
   - 优先级: P2

### 2.5 商店系统 (Shop System) - 完成度: 95%

#### ✅ 已实现功能
```
Domain/Shop/
├── ShopDefinition.cs            ✅ 商店定义
├── ShopItem.cs                  ✅ 商店物品
└── Configuration/               ✅ 商店配置

Application/Shop/
├── ShopService.cs               ✅ 商店服务
└── ShopCacheService.cs          ✅ 商店缓存
```

**关键成就**:
- ✅ 完全配置化（23 个参数）
- ✅ 商店货品刷新机制
- ✅ 购买限制和验证
- ✅ 库存管理

**基本完整，无重大缺失**

### 2.6 SignalR 实时通信 - 完成度: 95%

#### ✅ 已实现功能
```
Hubs/
└── BattleHub.cs                 ✅ 战斗中心

Services/
├── BattleNotificationService.cs ✅ 战斗通知服务
├── SignalRConfigurationService.cs ✅ SignalR 配置
└── SignalRMetricsCollector.cs   ✅ 指标收集
```

**关键成就**:
- ✅ 实时战斗事件推送
- ✅ 性能优化和节流
- ✅ 配置完全外部化
- ✅ 连接管理

**基本完整，无重大缺失**

---

## 未实现功能详细分析

### 3.1 高优先级未实现功能 (P0-P1)

#### 🔴 P0-1: 条件/解锁 DSL 引擎

**功能描述**:
通用条件表达式引擎，用于解锁判定（地图、副本、职业、商店货品等）

**设计规格** (来自整合设计总结):
```
ConditionExpr: {
  id: string,
  raw: string,  // "AND(level>=20, reputation.factionA>=300, quest.completed('Q123'))"
  ast: ExpressionTree,
  deps: string[]  // ["player.level", "reputation.factionA", "quest.Q123"]
}

ConditionCache: {
  parseCache: Map<string, AST>,
  resultCache: Map<string, boolean>,
  dependencyIndex: Map<string, Set<string>>  // 反向索引
}
```

**当前状态**: ❌ 完全未实现

**技术方案**:
1. **表达式解析器**
   - 实现 DSL 解析器（Antlr 或手写 Recursive Descent）
   - 支持运算符: AND, OR, NOT, >=, <=, ==
   - 支持函数: quest.completed(id), item.has(id)

2. **依赖提取**
   - 分析 AST 提取依赖键
   - 建立反向索引 (dependency → expressions)

3. **缓存与失效**
   - 解析缓存: 表达式字符串 → AST
   - 结果缓存: (expr, context) → boolean
   - 失效机制: 依赖变更时失效相关表达式

**工作量估算**: 
- 解析器实现: 8-10 工时
- 缓存与失效: 6-8 工时
- 单元测试: 6 工时
- **总计**: 20-24 工时 (3-4 天)

**优先级理由**:
- 🔑 **阻塞性**: 阻塞地图、任务、声望等多个系统
- 🎯 **通用性**: 可复用于所有解锁场景
- 💎 **价值高**: 提供灵活的内容解锁机制

---

#### 🔴 P0-2: 地图/区域系统 (Map/Region System)

**功能描述**:
区域定义、怪物池、区域解锁链、区域挂机

**设计规格**:
```csharp
public class MapRegion
{
    public string Id { get; set; }
    public string Name { get; set; }
    public (int Min, int Max) LevelRange { get; set; }
    public List<MonsterPoolEntry> MonsterPool { get; set; }
    public List<string> GatheringNodeIds { get; set; }
    public List<string> DungeonIds { get; set; }
    public List<string> NpcIds { get; set; }
    public string UnlockConditionExpr { get; set; }
}

public class MonsterPoolEntry
{
    public string MonsterId { get; set; }
    public int Weight { get; set; }
}

public class RegionGraph
{
    public Dictionary<string, List<string>> Adjacency { get; set; }
    public Dictionary<string, RegionUnlockPath> UnlockPaths { get; set; }
}
```

**当前状态**: ❌ 完全未实现

**实现要点**:
1. **区域定义数据结构**
   - JSON 配置文件: `regions.json`
   - 区域注册表: `RegionRegistry`
   - 区域图: `RegionGraph`

2. **区域挂机逻辑**
   - 从 MonsterPool 权重随机选怪
   - 生成战斗实例
   - 区域特殊加成（可选）

3. **解锁机制集成**
   - 与条件 DSL 引擎集成
   - 解锁状态缓存

4. **NPC 与任务挂钩**
   - NPC 注册表
   - 任务接取点

**工作量估算**:
- 数据模型: 4 工时
- 区域挂机逻辑: 8 工时
- 解锁集成: 6 工时
- 配置文件: 4 工时
- 单元测试: 6 工时
- **总计**: 28 工时 (4 天)

**依赖关系**:
- ⚠️ **强依赖**: 条件 DSL 引擎 (P0-1)
- 📦 **弱依赖**: 任务系统 (可后续集成)

**优先级理由**:
- 🎮 **核心玩法**: 提供空间感和进程感
- 🗺️ **内容载体**: 承载怪物、采集、副本
- 🔗 **连接器**: 串联任务、声望、解锁

---

#### 🔴 P0-3: 任务系统 (Quest System)

**功能描述**:
任务生命周期、任务目标追踪、任务奖励、日常周常重置

**设计规格**:
```csharp
public class Quest
{
    public string Id { get; set; }
    public QuestType Type { get; set; }  // Main/Side/Daily/Weekly
    public QuestState State { get; set; }  // Available/Active/ReadyToComplete/Completed
    public List<QuestObjective> Objectives { get; set; }
    public QuestReward Reward { get; set; }
    public string UnlockConditionExpr { get; set; }
}

public class QuestObjective
{
    public string Type { get; set; }  // KillMonster/CollectItem/ReachLevel
    public string TargetId { get; set; }
    public int Required { get; set; }
    public int Current { get; set; }
}

public enum QuestType
{
    Main,      // 主线
    Side,      // 支线
    Daily,     // 日常
    Weekly,    // 周常
    Dungeon,   // 副本
    Event,     // 活动
    Achievement // 成就
}
```

**当前状态**: ❌ 完全未实现

**实现要点**:
1. **任务数据模型**
   - 任务定义 JSON
   - 任务注册表
   - 角色任务状态

2. **任务状态机**
   ```
   Available → Active → ReadyToComplete → Completed
   ```

3. **目标追踪**
   - 事件监听 (怪物击杀、物品获取等)
   - 进度更新
   - 完成检测

4. **日常/周常重置**
   - 登录时检查重置时间
   - 定时任务服务
   - 重置历史记录

5. **任务奖励发放**
   - 与 RewardGrantService 集成
   - 幂等性保证

**工作量估算**:
- 数据模型: 6 工时
- 状态机: 8 工时
- 目标追踪: 10 工时
- 重置机制: 6 工时
- 奖励集成: 4 工时
- 单元测试: 8 工时
- **总计**: 42 工时 (6 天)

**依赖关系**:
- ⚠️ **强依赖**: 条件 DSL 引擎 (P0-1)
- 📦 **弱依赖**: 地图系统 (可后续集成)

**优先级理由**:
- 🎯 **引导性**: 引导玩家体验游戏内容
- 🎁 **奖励源**: 提供经验、金币、声望奖励
- 🔄 **重复内容**: 日常周常提供持续玩法

---

#### 🔴 P0-4: 声望系统 (Reputation System)

**功能描述**:
多派系声望、声望等级、声望奖励解锁

**设计规格**:
```csharp
public class ReputationFaction
{
    public string Id { get; set; }
    public string Name { get; set; }
    public List<ReputationLevel> Levels { get; set; }
}

public class ReputationLevel
{
    public string Name { get; set; }  // Neutral/Friendly/Honored/Revered/Exalted
    public int RequiredPoints { get; set; }
    public Dictionary<string, object> Unlocks { get; set; }
}

public class CharacterReputation
{
    public string CharacterId { get; set; }
    public Dictionary<string, int> FactionPoints { get; set; }
}
```

**当前状态**: ❌ 完全未实现

**实现要点**:
1. **派系定义**
   - JSON 配置文件
   - 派系注册表
   - 声望等级定义

2. **声望积累**
   - 任务奖励声望
   - 怪物击杀声望
   - 声望上限控制

3. **解锁机制**
   - 商店货品解锁
   - 配方解锁
   - 副本解锁
   - 地图解锁

4. **条件集成**
   - `reputation.factionA >= 300`
   - 与条件 DSL 引擎集成

**工作量估算**:
- 数据模型: 4 工时
- 声望积累逻辑: 6 工时
- 解锁集成: 8 工时
- 配置文件: 4 工时
- 单元测试: 6 工时
- **总计**: 28 工时 (4 天)

**依赖关系**:
- ⚠️ **强依赖**: 条件 DSL 引擎 (P0-1)
- 📦 **弱依赖**: 任务系统 (可后续集成)

**优先级理由**:
- 🔐 **解锁机制**: 提供内容解锁维度
- 📈 **进程感**: 长期目标和成就感
- 🎁 **奖励关联**: 与商店、配方关联

---

### 3.2 中优先级未实现功能 (P1)

#### 🟡 P1-1: 多角色 Roster 系统

**功能描述**:
账号级角色槽位管理，支持多角色切换

**设计规格**:
```csharp
public class Roster
{
    public string AccountId { get; set; }
    public List<RosterSlot> Slots { get; set; }  // 最多 5 个
    public int UnlockedCount { get; set; }
}

public class RosterSlot
{
    public int Index { get; set; }
    public RosterSlotState State { get; set; }  // Locked/Unlocked/Active
    public string CharacterId { get; set; }
    public string UnlockConditionExpr { get; set; }
}
```

**当前状态**: ⚠️ 部分实现（账号有多角色，但无 Roster 管理）

**实现要点**:
1. **Roster 数据模型**
2. **槽位解锁机制** (金币 + 条件)
3. **角色切换逻辑** (后台活动继续)
4. **统一限额** (账号级日常/声望共享)

**工作量估算**: 24 工时 (3 天)

**依赖关系**:
- ⚠️ **强依赖**: 条件 DSL 引擎

---

#### 🟡 P1-2: 组队/副本持续挂机

**功能描述**:
队伍全员离线时副本持续模拟

**设计规格**:
- 副本全员离线不暂停
- 终止条件: 队长结束 / 成员离队 / 超时
- 产出递减 (可选)

**当前状态**: ⚠️ 部分实现（副本存在，但离线后暂停）

**实现要点**:
1. **持续模拟逻辑**
2. **终止条件检测**
3. **产出递减机制**
4. **DungeonSegment 分段**

**工作量估算**: 20 工时 (3 天)

---

#### 🟡 P1-3: 消耗品自动使用策略

**功能描述**:
药剂、食物自动使用

**设计规格**:
```csharp
public class ConsumableLoadout
{
    public List<ConsumableSlot> GeneralSlots { get; set; }  // 2 槽
    public List<ConsumableSlot> CombatSlots { get; set; }   // 2 槽
}

public class ConsumableSlot
{
    public string ItemId { get; set; }
    public UsePolicy Policy { get; set; }  // onStart/onBuffExpire/onHPBelow%
    public Dictionary<string, object> PolicyParams { get; set; }
}
```

**当前状态**: ❌ 完全未实现

**工作量估算**: 18 工时 (2-3 天)

---

#### 🟡 P1-4: 配置版本化与热更新

**功能描述**:
配置版本管理、热更新、版本钉死

**设计规格**:
```csharp
public class ConfigBundle
{
    public string Version { get; set; }
    public string Hash { get; set; }
    public Dictionary<string, object> Modules { get; set; }  // skills.json, items.json, etc.
}

public class VersionPin
{
    public string BattleInstanceId { get; set; }
    public string ConfigVersion { get; set; }
}
```

**当前状态**: ❌ 完全未实现

**实现要点**:
1. **ConfigBundle 管理**
2. **版本钉死机制** (战斗内固定版本)
3. **热更新流程** (上传 → 校验 → 加载 → 广播)
4. **配置 Diff 报告**

**工作量估算**: 24 工时 (3-4 天)

---

#### 🟡 P1-5: 经济监控与指标收集

**功能描述**:
经济指标监控、通胀控制

**设计规格**:
```csharp
public interface IMetricsCollectorService
{
    void RecordGoldIncome(string source, decimal amount);
    void RecordGoldExpense(string sink, decimal amount);
    void RecordMaterialFlow(string tierId, int amount);
    void RecordRerollAttempt(string itemId, int cost);
    EconomyMetrics GetEconomyMetrics(TimeRange range);
}
```

**当前状态**: ⚠️ 部分实现（MetricsCollectorService 存在，但覆盖不全）

**实现要点**:
1. **完善监控埋点**
   - 金币产出/消耗来源
   - 材料流动
   - 重铸/重置频率
   - 分解返利

2. **监控查询 API**
3. **通胀预警**

**工作量估算**: 16 工时 (2 天)

---

### 3.3 低优先级未实现功能 (P2)

#### 🟢 P2-1: 调试面板 (Debug Panel)

**功能描述**:
开发调试用的状态快照和诊断信息

**工作量估算**: 12 工时 (1.5 天)

---

#### 🟢 P2-2: RNG 可回放机制

**功能描述**:
随机数种子记录，支持回放和反作弊

**工作量估算**: 16 工时 (2 天)

---

#### 🟢 P2-3: 职业转职系统

**功能描述**:
职业切换、条件限制

**工作量估算**: 20 工时 (3 天)

---

#### 🟢 P2-4: 赛季/公会等社交系统

**功能描述**:
赛季机制、公会系统、排行榜

**工作量估算**: 80+ 工时 (2-3 周)

---

## 功能优先级划分

### 4.1 优先级矩阵

| 功能 | 优先级 | 阻塞性 | 价值 | 复杂度 | 工作量 |
|------|--------|--------|------|--------|--------|
| **条件 DSL 引擎** | P0 | 高 | 高 | 中 | 3-4天 |
| **地图/区域系统** | P0 | 高 | 高 | 中 | 4天 |
| **任务系统** | P0 | 中 | 高 | 中 | 6天 |
| **声望系统** | P0 | 中 | 中 | 低 | 4天 |
| **Roster 系统** | P1 | 低 | 中 | 低 | 3天 |
| **持续副本挂机** | P1 | 低 | 中 | 中 | 3天 |
| **消耗品自动使用** | P1 | 低 | 中 | 低 | 2-3天 |
| **配置版本化** | P1 | 低 | 中 | 中 | 3-4天 |
| **经济监控完善** | P1 | 低 | 中 | 低 | 2天 |
| **调试面板** | P2 | 无 | 低 | 低 | 1.5天 |
| **RNG 可回放** | P2 | 无 | 低 | 中 | 2天 |
| **职业转职** | P2 | 无 | 中 | 低 | 3天 |
| **赛季/公会** | P2 | 无 | 高 | 高 | 2-3周 |

### 4.2 推荐实施顺序

**阶段 1: 基础设施 (17-21 天)**
1. 条件 DSL 引擎 (3-4天) ← 最高优先级
2. 地图/区域系统 (4天)
3. 任务系统 (6天)
4. 声望系统 (4天)

**阶段 2: 增强功能 (13-17 天)**
5. 多角色 Roster 系统 (3天)
6. 持续副本挂机 (3天)
7. 消耗品自动使用 (2-3天)
8. 配置版本化 (3-4天)
9. 经济监控完善 (2天)

**阶段 3: 高级功能 (可选)**
10. 调试面板 (1.5天)
11. RNG 可回放 (2天)
12. 职业转职 (3天)
13. 赛季/公会 (2-3周)

---

## 技术依赖关系

### 5.1 依赖图

```
条件 DSL 引擎 (P0-1)
  ├─→ 地图/区域系统 (P0-2)
  │    └─→ 任务系统 (P0-3)
  ├─→ 声望系统 (P0-4)
  ├─→ Roster 系统 (P1-1)
  └─→ 职业转职 (P2-3)

任务系统 (P0-3)
  └─→ 声望系统 (P0-4)

配置版本化 (P1-4)
  └─→ 所有数据驱动模块
```

### 5.2 关键路径

**最短关键路径** (实现核心功能):
```
条件 DSL 引擎 → 地图系统 → 任务系统 → 声望系统
```
**最短工期**: 17-21 天

---

## 资源估算

### 6.1 总工作量汇总

| 阶段 | 工作量 | 日历天数 |
|------|--------|----------|
| **阶段 1: 基础设施** | 134-154 工时 | 17-21 天 |
| **阶段 2: 增强功能** | 104-136 工时 | 13-17 天 |
| **阶段 3: 高级功能** | 186+ 工时 | 23+ 天 |
| **总计 (阶段1+2)** | 238-290 工时 | 30-38 天 |

### 6.2 人力需求

**推荐配置**:
- 1 名后端工程师 (全职) - 核心开发
- 1 名 QA 工程师 (兼职 50%) - 测试验收
- 1 名技术 Leader (兼职 25%) - 技术评审

**加速配置** (并行开发):
- 2 名后端工程师
- 工期可缩短 30-40%

---

## 附录

### A. 未实现功能清单速查表

#### 完全未实现 (❌)
- [ ] 条件/解锁 DSL 引擎
- [ ] 地图/区域系统
- [ ] 任务系统
- [ ] 声望系统
- [ ] 多角色 Roster 系统
- [ ] 消耗品自动使用
- [ ] 配置版本化与热更新
- [ ] 调试面板
- [ ] RNG 可回放机制
- [ ] 职业转职系统
- [ ] 赛季/公会等社交系统

#### 部分实现 (⚠️)
- [ ] ResourceBucket 溢出转换
- [ ] Buff 层数叠加
- [ ] CombatSegment 详细统计
- [ ] 装备词条重置
- [ ] 活动互斥标签
- [ ] 离线副本持续挂机
- [ ] 经济监控完善

---

**文档状态**: ✅ 分析完成  
**版本**: 1.0  
**最后更新**: 2025-10-15
